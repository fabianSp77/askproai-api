@import '../../../../vendor/filament/filament/resources/css/theme.css';

/* Core responsive and mobile functionality */
@import '../../mobile-framework.css';
@import '../../filament-mobile-overrides.css';

/* Resource-specific styles */
@import './call-resource.css';
@import './dashboard.css';
@import './appointments.css';
@import './calls.css';
@import './customers.css';

/* UI Components */
@import '../../column-toggle-fix.css';
@import '../../tab-tooltips.css';
@import '../../column-editor-modern.css';
@import '../../contrast-fix.css';
@import './modern-ui-components.css';

/* Portal and integrations */
@import './company-integration-portal.css';
@import './retell-agent-portal.css';
@import './ultimate-portal-design.css';
@import './retell-configuration-center.css';
@import './retell-ultimate-modern.css';

/* Layout fixes */
/* DISABLED - Causing horizontal scroll issues
@import './table-responsive-fix.css';
@import './table-column-optimization.css';
@import './staff-table-fix.css';
@import './call-detail.css';
@import './table-layout-fix.css';
*/

/* NEW: Clean responsive layout without horizontal scrolling */
@import './clean-responsive-layout.css';

/* Theme customization */
@import './askproai-theme.css';
@import './professional-navigation.css';

/* Wizard components */
@import './wizard-progress-fix.css';
@import './wizard-form-fix.css';
@import './wizard-v2-fixes.css';

/* CRITICAL: This must be loaded LAST - Single source of truth for dropdown/sidebar fixes */
@import './minimal-dropdown-fix.css';

/* Non-billable calls styling */
@import './non-billable-calls.css';

/* Theme color variables */
:root {
    --color-primary-50: 254 252 232;
    --color-primary-100: 254 249 195;
    --color-primary-200: 254 240 138;
    --color-primary-300: 253 224 71;
    --color-primary-400: 250 204 21;
    --color-primary-500: 234 179 8;
    --color-primary-600: 202 138 4;
    --color-primary-700: 161 98 7;
    --color-primary-800: 133 77 14;
    --color-primary-900: 113 63 18;
    --color-primary-950: 66 32 6;
}

/* Sidebar customization */
.fi-sidebar-header {
    @apply bg-amber-500 text-white;
}

.fi-sidebar-nav {
    @apply bg-white dark:bg-gray-900;
}

.fi-sidebar-item-active {
    @apply bg-amber-50 text-amber-700 dark:bg-amber-900 dark:text-amber-300;
}

/* Prevent navigation flashes */
.fi-body {
    transition: none !important;
}

/* Ensure page content is always visible */
.fi-page {
    opacity: 1 !important;
    visibility: visible !important;
}

/* Alpine.js cloak directive */
[x-cloak] { 
    display: none !important; 
}

/* ========== WIDGET DISPLAY FIX ========== */
/* Force widgets to be visible on calls page */
.fi-page-header-widgets,
.fi-widgets-container,
.fi-widgets-grid {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Ensure widget containers are visible */
.fi-wi,
.fi-widget,
[class*="fi-wi-"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    min-height: 1px !important;
}

/* Stats overview widget specific */
.fi-wi-stats-overview {
    display: block !important;
    margin-bottom: 1rem !important;
}

.fi-wi-stats-overview-stats-container {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
    gap: 1rem !important;
}

.fi-wi-stats-overview-stat {
    display: flex !important;
    flex-direction: column !important;
    padding: 1rem !important;
}

/* Live status widget */
.fi-wi-live-status-widget {
    display: block !important;
    margin-bottom: 1rem !important;
}

/* Global filter widget */
.fi-wi-global-filter {
    display: block !important;
    margin-bottom: 1rem !important;
}

/* Header widgets container on list pages */
.fi-resource-view > div:first-child > div {
    display: block !important;
}

/* Ensure grid layout for multiple widgets */
.fi-page > div:has(.fi-wi) {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    margin-bottom: 1rem !important;
}

/* CRITICAL FIX: Force widget container visibility on resource pages */
.fi-resource-view > div:first-child {
    display: block !important;
    min-height: 50px !important;
}

/* Force any Livewire component that might be a widget to show */
[wire\:id]:has(.fi-wi),
[wire\:id]:has(.fi-widget) {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Debug mode - add red border to see widget containers */
.fi-page > div:empty {
    border: 2px dashed red !important;
    min-height: 100px !important;
    position: relative !important;
}

.fi-page > div:empty::after {
    content: "Widget container (empty)" !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    color: red !important;
    font-weight: bold !important;
}
/* ========== END WIDGET DISPLAY FIX ========== */
/* ========== DASHBOARD WIDGET VISIBILITY FIX ========== */
/* Dashboard Widget Visibility Fix */
.fi-page.operations-dashboard .fi-widgets-container,
.fi-page.operations-dashboard .fi-widgets-grid {
    display: grid \!important;
    visibility: visible \!important;
    opacity: 1 \!important;
}

/* Ensure Filament widgets component displays properly */
.fi-page.operations-dashboard [x-data] {
    display: contents;
}

/* Force dashboard widgets to show */
.fi-wi-compact-operations,
.fi-wi-insights-actions,
.fi-wi-financial-intelligence,
.fi-wi-branch-performance-matrix,
.fi-wi-live-activity-feed {
    display: block \!important;
    visibility: visible \!important;
    opacity: 1 \!important;
    min-height: 100px;
}

/* Fix widget grid layout */
.fi-page.operations-dashboard .grid {
    display: grid \!important;
}

/* Ensure widget component wrappers don't hide content */
.fi-page.operations-dashboard > div > div {
    display: contents;
}

/* Fix empty widget containers on dashboard */
.fi-page.operations-dashboard .fi-widgets-container:empty {
    display: none \!important;
}
/* ========== END DASHBOARD WIDGET VISIBILITY FIX ========== */
