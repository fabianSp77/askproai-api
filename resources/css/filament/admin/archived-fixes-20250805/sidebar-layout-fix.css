/* ================================================================
   SIDEBAR LAYOUT FIX - Issue #434
   Fixes duplicate logos, hamburger buttons, and white space
   ================================================================ */

/* Hide topbar logo when sidebar is visible (desktop) */
@media (min-width: 1024px) {
    .fi-topbar .fi-logo {
        display: none !important;
    }
}

/* Ensure only one hamburger button is visible */
.fi-topbar .fi-sidebar-open-btn:not(:first-of-type) {
    display: none !important;
}

/* Fix white space between topbar and content */
.fi-main-ctn {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

.fi-topbar + .fi-main-ctn {
    margin-top: 4rem !important; /* Height of topbar */
}

/* Ensure sidebar header has proper spacing */
.fi-sidebar-header {
    padding: 1rem !important;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

/* Fix sidebar collapse/expand buttons positioning */
.fi-sidebar-collapse-btn {
    position: absolute !important;
    right: -12px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 10 !important;
    background: white !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 9999px !important;
    width: 24px !important;
    height: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
}

.fi-sidebar-collapse-btn:hover {
    background: #f3f4f6 !important;
    border-color: #d1d5db !important;
}

/* Ensure proper icon size in collapse button */
.fi-sidebar-collapse-btn svg {
    width: 1rem !important;
    height: 1rem !important;
}

/* Fix main content area positioning */
.fi-main {
    padding-top: 1rem !important;
}

/* Remove duplicate navigation elements */
.fi-topbar .mobile-nav-button-simple {
    display: none !important;
}

/* Mobile specific fixes */
@media (max-width: 1023px) {
    /* Show topbar logo on mobile */
    .fi-topbar .fi-logo {
        display: flex !important;
    }
    
    /* Hide sidebar logo on mobile when closed */
    .fi-sidebar:not(.fi-sidebar-open) .fi-logo {
        display: none !important;
    }
    
    /* Fix mobile spacing */
    .fi-main-ctn {
        margin-top: 4rem !important;
    }
}

/* Ensure content doesn't overlap with sidebar */
@media (min-width: 1024px) {
    .fi-main-ctn {
        margin-left: var(--sidebar-width, 16rem) !important;
        transition: margin-left 0.3s ease !important;
    }
    
    /* When sidebar is collapsed */
    .fi-sidebar-collapsed .fi-main-ctn {
        margin-left: var(--collapsed-sidebar-width, 4rem) !important;
    }
}

/* Clean up any duplicate branding elements */
.fi-brand:not(:first-of-type) {
    display: none !important;
}

/* Fix z-index stacking */
.fi-topbar {
    z-index: 40 !important;
}

.fi-sidebar {
    z-index: 50 !important;
}

/* Ensure proper background colors */
.fi-topbar {
    background-color: white !important;
    border-bottom: 1px solid #e5e7eb !important;
}

.dark .fi-topbar {
    background-color: rgb(31 41 55) !important;
    border-bottom-color: rgb(55 65 81) !important;
}

/* Fix any layout shift issues */
html {
    scroll-behavior: smooth;
}

body {
    overflow-x: hidden !important;
}

/* Ensure sidebar toggle animation is smooth */
.fi-sidebar {
    transition: transform 0.3s ease, width 0.3s ease !important;
}

/* Fix potential double scroll bars */
.fi-main-ctn {
    overflow-x: hidden !important;
    overflow-y: auto !important;
}