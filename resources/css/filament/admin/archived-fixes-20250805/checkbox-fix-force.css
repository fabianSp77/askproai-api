/* Force Checkbox Visibility Fix - High Specificity */

/* Force custom checkbox appearance with maximum specificity */
body .fi-body .fi-input[type="checkbox"],
body .fi-body .fi-checkbox-input,
body .fi-body input[type="checkbox"],
body .fi-body input[type="checkbox"].fi-checkbox-input {
    /* Force custom appearance */
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    
    /* Ensure visibility */
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
    
    /* Size and shape */
    width: 1.25rem !important;
    height: 1.25rem !important;
    min-width: 1.25rem !important;
    min-height: 1.25rem !important;
    border-radius: 0.25rem !important;
    
    /* Default unchecked state */
    background-color: #ffffff !important;
    background-image: none !important;
    border: 2px solid #d1d5db !important;
    position: relative !important;
    cursor: pointer !important;
    display: inline-block !important;
    vertical-align: middle !important;
    margin: 0 !important;
    padding: 0 !important;
    
    /* Remove any Filament background images */
    &::before,
    &::after {
        display: none !important;
    }
}

/* Checked state with checkmark */
body .fi-body .fi-input[type="checkbox"]:checked,
body .fi-body .fi-checkbox-input:checked,
body .fi-body input[type="checkbox"]:checked,
body .fi-body input[type="checkbox"].fi-checkbox-input:checked {
    background-color: rgb(234 179 8) !important; /* Amber-500 */
    border-color: rgb(234 179 8) !important;
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e") !important;
    background-size: 100% 100% !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
}

/* Hover state */
body .fi-body .fi-input[type="checkbox"]:hover:not(:disabled),
body .fi-body .fi-checkbox-input:hover:not(:disabled),
body .fi-body input[type="checkbox"]:hover:not(:disabled) {
    border-color: #9ca3af !important;
}

/* Focus state */
body .fi-body .fi-input[type="checkbox"]:focus,
body .fi-body .fi-checkbox-input:focus,
body .fi-body input[type="checkbox"]:focus {
    outline: 2px solid transparent !important;
    outline-offset: 2px !important;
    box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgb(234 179 8) !important;
}

/* Disabled state */
body .fi-body .fi-input[type="checkbox"]:disabled,
body .fi-body .fi-checkbox-input:disabled,
body .fi-body input[type="checkbox"]:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
    background-color: #f3f4f6 !important;
}

/* Dark mode support */
body.dark .fi-body .fi-input[type="checkbox"],
body.dark .fi-body .fi-checkbox-input,
body.dark .fi-body input[type="checkbox"] {
    background-color: #1f2937 !important;
    border-color: #4b5563 !important;
}

body.dark .fi-body .fi-input[type="checkbox"]:checked,
body.dark .fi-body .fi-checkbox-input:checked,
body.dark .fi-body input[type="checkbox"]:checked {
    background-color: rgb(251 191 36) !important; /* Amber-400 */
    border-color: rgb(251 191 36) !important;
}

/* Radio buttons - same treatment */
body .fi-body .fi-input[type="radio"],
body .fi-body .fi-radio-input,
body .fi-body input[type="radio"] {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    
    width: 1.25rem !important;
    height: 1.25rem !important;
    border-radius: 50% !important;
    background-color: #ffffff !important;
    border: 2px solid #d1d5db !important;
    position: relative !important;
    cursor: pointer !important;
    
    &::before,
    &::after {
        display: none !important;
    }
}

/* Radio checked state */
body .fi-body .fi-input[type="radio"]:checked,
body .fi-body .fi-radio-input:checked,
body .fi-body input[type="radio"]:checked {
    background-color: rgb(234 179 8) !important;
    border-color: rgb(234 179 8) !important;
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e") !important;
    background-size: 100% 100% !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
}

/* Remove any competing styles */
.fi-forms-field-wrapper input[type="checkbox"],
.fi-forms-field-wrapper input[type="radio"] {
    /* Use our custom appearance */
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
}