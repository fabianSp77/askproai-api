/* ================================================
   MOBILE PORTAL FIX - Complete Mobile Navigation Solution
   ================================================ */

/* Ensure mobile navigation is visible */
@media (max-width: 1023px) {
    /* Make sure topbar has proper z-index */
    .fi-topbar {
        z-index: 40 !important;
    }
    
    /* Professional burger button should be visible */
    .professional-burger-btn {
        display: inline-flex !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    /* Hide desktop navigation on mobile */
    .fi-sidebar {
        display: none !important;
    }
    
    /* Ensure main content doesn't have left margin on mobile */
    .fi-main-ctn {
        margin-left: 0 !important;
        padding-left: 0 !important;
    }
    
    /* Fix main content width */
    .fi-main {
        width: 100% !important;
        max-width: 100% !important;
    }
    
    /* Ensure professional mobile panel has high z-index */
    .professional-mobile-panel {
        z-index: 50 !important;
    }
    
    /* Mobile menu backdrop */
    .mobile-menu-backdrop {
        z-index: 45 !important;
    }
}

/* Desktop: Hide mobile navigation */
@media (min-width: 1024px) {
    .professional-burger-btn,
    .professional-mobile-navigation {
        display: none !important;
    }
}

/* Fix for branch switcher in mobile */
@media (max-width: 1023px) {
    .professional-branch-switcher {
        display: none !important; /* Hide desktop version on mobile */
    }
}

/* Ensure proper spacing in topbar */
.fi-topbar nav {
    position: relative;
}

/* Position mobile navigation properly */
.professional-mobile-navigation {
    position: relative;
    z-index: 50;
}

/* Fix overflow issues on mobile */
@media (max-width: 767px) {
    body {
        overflow-x: hidden !important;
    }
    
    .fi-layout {
        overflow-x: hidden !important;
    }
}

/* Ensure mobile menu is accessible */
@media (max-width: 1023px) {
    /* Remove any transforms that might hide content */
    .fi-main-ctn {
        transform: none !important;
    }
    
    /* Ensure sidebar close overlay works */
    .fi-sidebar-close-overlay {
        display: none !important; /* We use our own backdrop */
    }
}

/* Fix for iOS Safari */
@supports (-webkit-touch-callout: none) {
    .professional-mobile-panel {
        position: fixed !important;
        -webkit-transform: translateZ(0);
    }
}

/* Ensure hamburger button is always clickable */
.professional-burger-btn {
    position: relative !important;
    z-index: 50 !important;
    cursor: pointer !important;
    -webkit-tap-highlight-color: transparent !important;
}

/* Fix for small screens */
@media (max-width: 374px) {
    .fi-topbar nav {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    .professional-burger-btn {
        padding: 0.5rem !important;
    }
}