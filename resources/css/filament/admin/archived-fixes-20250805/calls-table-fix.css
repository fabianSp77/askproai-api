/* Calls Table Fix - Behebt abgeschnittenen Content in der Anrufliste */

/* 
 * PROBLEM: Rechte Seite der Anrufliste wird abgeschnitten
 * LÖSUNG: Erweitere Container-Breite und erlaube horizontales Scrollen
 */

/* === Calls Resource spezifisch === */
.fi-resource-calls {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: visible !important;
}

/* === Hauptcontainer für Calls-Seite === */
.fi-resource-calls .fi-page,
.fi-resource-calls .fi-page-wrapper {
    max-width: 100% !important;
    width: 100% !important;
    overflow-x: visible !important;
}

/* === Tabellen-Container-Hierarchie === */
.fi-resource-calls .fi-ta-ctn {
    max-width: 100% !important;
    width: 100% !important;
    overflow-x: visible !important;
    padding: 0 !important; /* Entferne seitliches Padding */
}

/* === Tabellen-Wrapper - HIER ist der Scroll === */
.fi-resource-calls .fi-ta-table-wrap {
    overflow-x: auto !important;
    overflow-y: visible !important;
    max-width: 100% !important;
    width: 100% !important;
    -webkit-overflow-scrolling: touch;
    margin: 0 !important;
    
    /* Scrollbar immer sichtbar für bessere UX */
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

/* === Die Tabelle selbst === */
.fi-resource-calls .fi-ta-table {
    width: auto !important; /* Tabelle nutzt ihre natürliche Breite */
    min-width: 100% !important; /* Aber mindestens 100% */
    table-layout: auto !important; /* Automatisches Layout für flexible Spalten */
}

/* === Verhindern dass Zellen zu schmal werden === */
.fi-resource-calls .fi-ta-table th,
.fi-resource-calls .fi-ta-table td {
    white-space: nowrap !important; /* Text nicht umbrechen */
    min-width: auto !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
}

/* === Spezielle Spalten mit mehr Platz === */
/* Transcript/Summary Spalten brauchen mehr Breite */
.fi-resource-calls .fi-ta-table td:has(.fi-ta-text),
.fi-resource-calls .fi-ta-table td:has(p) {
    min-width: 200px !important;
    max-width: 400px !important;
    white-space: normal !important; /* Diese dürfen umbrechen */
}

/* === Actions Spalte === */
.fi-resource-calls .fi-ta-table .fi-ta-actions {
    white-space: nowrap !important;
    min-width: 100px !important;
}

/* === Scrollbar Styling === */
.fi-resource-calls .fi-ta-table-wrap::-webkit-scrollbar {
    height: 8px;
}

.fi-resource-calls .fi-ta-table-wrap::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 4px;
}

.fi-resource-calls .fi-ta-table-wrap::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
}

.fi-resource-calls .fi-ta-table-wrap::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
}

/* === Dark Mode === */
.dark .fi-resource-calls .fi-ta-table-wrap::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
}

.dark .fi-resource-calls .fi-ta-table-wrap::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
}

.dark .fi-resource-calls .fi-ta-table-wrap::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* === Mobile Responsiveness === */
@media (max-width: 1024px) {
    .fi-resource-calls .fi-ta-table {
        font-size: 0.875rem; /* Kleinere Schrift auf Mobile */
    }
    
    .fi-resource-calls .fi-ta-table th,
    .fi-resource-calls .fi-ta-table td {
        padding: 0.5rem !important;
    }
}

/* === WICHTIG: Entferne alle max-width Beschränkungen in der Hierarchie === */
.fi-resource-calls .fi-layout,
.fi-resource-calls .fi-main-ctn,
.fi-resource-calls .fi-main,
.fi-resource-calls .fi-page,
.fi-resource-calls .fi-page > *,
.fi-resource-calls .fi-ta-ctn > * {
    max-width: 100% !important;
}

/* === Visual Indicator für Scroll === */
.fi-resource-calls .fi-ta-table-wrap {
    position: relative;
}

/* Schatten rechts wenn scrollbar */
.fi-resource-calls .fi-ta-table-wrap::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 20px;
    background: linear-gradient(to left, rgba(0,0,0,0.05), transparent);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
}

.fi-resource-calls .fi-ta-table-wrap:hover::after {
    opacity: 1;
}

/* === Debug Helper (auskommentiert) === */
/*
.fi-resource-calls * {
    outline: 1px solid red;
}

.fi-resource-calls .fi-ta-table-wrap {
    outline: 2px solid blue;
}

.fi-resource-calls .fi-ta-table {
    outline: 2px solid green;
}
*/