/**
 * Admin Portal Tooltip Styles
 * Enhances Filament's built-in tooltips with better visibility and mobile support
 */

/* Enhance Filament tooltip visibility */
.fi-tooltip {
    z-index: 99999 !important;
}

/* Ensure tooltips show above modals */
.fi-modal-open .fi-tooltip {
    z-index: 100000 !important;
}

/* Mobile-friendly tooltips */
@media (max-width: 640px) {
    .fi-tooltip {
        max-width: 90vw !important;
        font-size: 0.875rem !important;
    }
}

/* Touch device tooltip trigger areas */
@media (hover: none) and (pointer: coarse) {
    /* Make touch targets larger for better accessibility */
    [data-tooltip],
    [aria-describedby*="tooltip"] {
        position: relative;
    }
    
    [data-tooltip]::after,
    [aria-describedby*="tooltip"]::after {
        content: '';
        position: absolute;
        inset: -8px;
        z-index: 1;
    }
}

/* Custom tooltip styles for specific action types */
.fi-ta-action[data-tooltip*="billable"] .fi-tooltip,
.fi-ta-action[data-tooltip*="Gutschrift"] .fi-tooltip {
    background-color: rgb(239 68 68) !important;
}

.fi-ta-action[data-tooltip*="preflight"] .fi-tooltip,
.fi-ta-action[data-tooltip*="health"] .fi-tooltip {
    background-color: rgb(59 130 246) !important;
}

.fi-ta-action[data-tooltip*="export"] .fi-tooltip,
.fi-ta-action[data-tooltip*="import"] .fi-tooltip {
    background-color: rgb(34 197 94) !important;
}

/* Ensure tooltips work with icon-only buttons */
.fi-btn-icon {
    position: relative;
}

/* Fix tooltip positioning for table actions */
.fi-ta-actions {
    position: relative;
    overflow: visible !important;
}

/* Prevent tooltip cutoff in tables */
.fi-table-cell {
    overflow: visible !important;
}

/* Dark mode adjustments */
.dark .fi-tooltip {
    background-color: rgba(255, 255, 255, 0.95) !important;
    color: rgb(17, 24, 39) !important;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Loading state tooltips */
.fi-loading [data-tooltip],
.fi-loading [aria-describedby*="tooltip"] {
    pointer-events: none;
}

/* Accessibility - ensure tooltips are readable */
@media (prefers-contrast: high) {
    .fi-tooltip {
        border: 2px solid currentColor !important;
        font-weight: 600 !important;
    }
}

/* Animation for tooltip appearance */
.fi-tooltip {
    animation: tooltipFadeIn 0.2s ease-out;
}

@keyframes tooltipFadeIn {
    from {
        opacity: 0;
        transform: translateY(-4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Ensure our custom askproai tooltips also work */
.askproai-tooltip {
    /* Inherit Filament styles but ensure visibility */
    @apply fi-tooltip;
    z-index: 99999 !important;
}