<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retell Agent V47 - Capabilities Documentation</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header .version {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .header .meta {
            color: #666;
            font-size: 0.95em;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        h3 {
            color: #764ba2;
            margin: 25px 0 15px 0;
            font-size: 1.3em;
        }

        .capability-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .capability-item {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #667eea;
        }

        .capability-item h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .capability-item ul {
            list-style: none;
            padding: 0;
        }

        .capability-item li {
            padding: 5px 0;
            color: #555;
        }

        .capability-item li::before {
            content: "‚úì ";
            color: #4CAF50;
            font-weight: bold;
            margin-right: 5px;
        }

        .limitation-item {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }

        .limitation-item li::before {
            content: "‚ö† ";
            color: #ff9800;
        }

        .tool-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .tool-table th,
        .tool-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .tool-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }

        .tool-table tr:hover {
            background: #f5f5f5;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin-right: 5px;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .badge-info {
            background: #d1ecf1;
            color: #0c5460;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .json-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 15px 0;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
            margin: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #667eea;
        }

        .timeline-item {
            position: relative;
            padding-bottom: 20px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -35px;
            top: 5px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #667eea;
            border: 3px solid white;
            box-shadow: 0 0 0 2px #667eea;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            padding: 20px;
        }

        @media (max-width: 768px) {
            .capability-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ Friseur 1 Voice AI Agent</h1>
            <span class="version">Version 47 (Live)</span>
            <div class="meta">
                <strong>Last Updated:</strong> 2025-11-05 19:58 Uhr |
                <strong>Language:</strong> Deutsch (de-DE) |
                <strong>Voice:</strong> 11labs-Adrian |
                <strong>Model:</strong> GPT-4o-mini (Cascading)
            </div>
        </div>

        <!-- Executive Summary -->
        <div class="card">
            <h2>üìä Executive Summary</h2>
            <p>Der Friseur 1 Voice AI Agent ist ein vollst√§ndig automatisierter Terminassistent, der Telefongespr√§che in nat√ºrlichem Deutsch f√ºhrt. Der Agent kann Termine buchen, stornieren, verschieben und Serviceinformationen bereitstellen.</p>

            <div class="capability-grid" style="margin-top: 20px;">
                <div style="background: #e8f5e9; padding: 20px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 2.5em; color: #4CAF50;">8</div>
                    <div style="color: #2E7D32; font-weight: 600;">Tools/Functions</div>
                </div>
                <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 2.5em; color: #2196F3;">18</div>
                    <div style="color: #1565C0; font-weight: 600;">Verf√ºgbare Services</div>
                </div>
                <div style="background: #fce4ec; padding: 20px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 2.5em; color: #E91E63;">10</div>
                    <div style="color: #C2185B; font-weight: 600;">Dynamic Variables</div>
                </div>
                <div style="background: #fff3e0; padding: 20px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 2.5em; color: #FF9800;">5</div>
                    <div style="color: #E65100; font-weight: 600;">Haupt-Use-Cases</div>
                </div>
            </div>
        </div>

        <!-- Capabilities -->
        <div class="card">
            <h2>‚úÖ Kern-Capabilities</h2>

            <h3>1. Terminbuchung (Appointment Booking)</h3>
            <div class="capability-grid">
                <div class="capability-item">
                    <h4>üéØ Was es kann</h4>
                    <ul>
                        <li>Nat√ºrliche Spracheingabe verstehen</li>
                        <li>Service-Disambiguierung (Herren/Damen)</li>
                        <li>Datum/Uhrzeit flexibel erfassen</li>
                        <li>Verf√ºgbarkeit in Echtzeit pr√ºfen</li>
                        <li>Proaktive Terminvorschl√§ge</li>
                        <li>2-Step Booking (fast feedback)</li>
                    </ul>
                </div>
                <div class="capability-item">
                    <h4>üìã Erfasste Daten</h4>
                    <ul>
                        <li>Kundenname ({{customer_name}})</li>
                        <li>Telefonnummer ({{customer_phone}})</li>
                        <li>Service ({{service_name}})</li>
                        <li>Datum ({{appointment_date}})</li>
                        <li>Uhrzeit ({{appointment_time}})</li>
                        <li>Email (optional)</li>
                    </ul>
                </div>
            </div>

            <h3>2. Proaktive Verf√ºgbarkeitsvorschl√§ge</h3>
            <div class="capability-item">
                <h4>üöÄ Neue Feature (V47)</h4>
                <ul>
                    <li>Erkennt: "Was haben Sie heute noch frei?"</li>
                    <li>Ruft automatisch check_availability auf</li>
                    <li>Zeigt 3-5 verf√ºgbare Zeitslots</li>
                    <li>L√§sst Kunden w√§hlen</li>
                    <li>KEINE erfundenen Zeiten mehr!</li>
                </ul>
            </div>

            <h3>3. Service-Disambiguierung</h3>
            <div class="capability-item">
                <h4>üîç Intelligente Kl√§rung (V47)</h4>
                <ul>
                    <li>Erkennt mehrdeutige Anfragen ("Haarschnitt")</li>
                    <li>Fragt nach: "Herrenhaarschnitt oder Damenhaarschnitt?"</li>
                    <li>Preise/Dauer NUR auf explizite Nachfrage</li>
                    <li>Wartet auf Kundenauswahl</li>
                </ul>
            </div>

            <h3>4. Terminverwaltung</h3>
            <div class="capability-grid">
                <div class="capability-item">
                    <h4>üìÖ Termine anzeigen</h4>
                    <ul>
                        <li>Liste aller zuk√ºnftigen Termine</li>
                        <li>Sortiert nach Datum/Uhrzeit</li>
                        <li>Mit Service-Details</li>
                    </ul>
                </div>
                <div class="capability-item">
                    <h4>üóëÔ∏è Termine stornieren</h4>
                    <ul>
                        <li>Identifikation via Datum/Uhrzeit</li>
                        <li>Best√§tigung vor Stornierung</li>
                        <li>Email-Benachrichtigung</li>
                    </ul>
                </div>
                <div class="capability-item">
                    <h4>üîÑ Termine verschieben</h4>
                    <ul>
                        <li>Alter Termin identifizieren</li>
                        <li>Neues Datum/Uhrzeit erfassen</li>
                        <li>Verf√ºgbarkeit pr√ºfen</li>
                        <li>Best√§tigung senden</li>
                    </ul>
                </div>
            </div>

            <h3>5. Service-Information</h3>
            <div class="capability-item">
                <h4>‚ÑπÔ∏è Informationsbereitstellung</h4>
                <ul>
                    <li>Liste aller 18 verf√ºgbaren Services</li>
                    <li>Preise und Dauer auf Nachfrage</li>
                    <li>Synonym-Erkennung (z.B. "Herrenschnitt" ‚Üí "Herrenhaarschnitt")</li>
                    <li>Service-Beschreibungen</li>
                    <li>Vorbereitungstipps (Dauerwelle, F√§rbung)</li>
                </ul>
            </div>
        </div>

        <!-- Available Tools -->
        <div class="card">
            <h2>üõ†Ô∏è Verf√ºgbare Tools/Functions</h2>
            <table class="tool-table">
                <thead>
                    <tr>
                        <th>Tool Name</th>
                        <th>Beschreibung</th>
                        <th>Timeout</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>check_availability_v17</code></td>
                        <td>Pr√ºft Verf√ºgbarkeit f√ºr Termin bei Cal.com</td>
                        <td>15s</td>
                        <td><span class="badge badge-success">Live</span></td>
                    </tr>
                    <tr>
                        <td><code>book_appointment_v17</code></td>
                        <td>Bucht einen Termin (Legacy)</td>
                        <td>15s</td>
                        <td><span class="badge badge-warning">Legacy</span></td>
                    </tr>
                    <tr>
                        <td><code>start_booking</code></td>
                        <td>Step 1: Validiert Buchungsdaten (<500ms)</td>
                        <td>5s</td>
                        <td><span class="badge badge-success">Live</span></td>
                    </tr>
                    <tr>
                        <td><code>confirm_booking</code></td>
                        <td>Step 2: F√ºhrt Cal.com Buchung aus (4-5s)</td>
                        <td>30s</td>
                        <td><span class="badge badge-success">Live</span></td>
                    </tr>
                    <tr>
                        <td><code>get_customer_appointments</code></td>
                        <td>Ruft bestehende Termine ab</td>
                        <td>15s</td>
                        <td><span class="badge badge-success">Live</span></td>
                    </tr>
                    <tr>
                        <td><code>cancel_appointment</code></td>
                        <td>Storniert einen Termin</td>
                        <td>15s</td>
                        <td><span class="badge badge-success">Live</span></td>
                    </tr>
                    <tr>
                        <td><code>reschedule_appointment</code></td>
                        <td>Verschiebt einen Termin</td>
                        <td>15s</td>
                        <td><span class="badge badge-success">Live</span></td>
                    </tr>
                    <tr>
                        <td><code>get_available_services</code></td>
                        <td>Listet alle Services auf</td>
                        <td>15s</td>
                        <td><span class="badge badge-success">Live</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Services -->
        <div class="card">
            <h2>üíà Verf√ºgbare Services (18 Total)</h2>
            <div class="capability-grid">
                <div class="capability-item">
                    <h4>Haarschnitte</h4>
                    <ul>
                        <li>Herrenhaarschnitt (32‚Ç¨, 55 Min)</li>
                        <li>Damenhaarschnitt (45‚Ç¨, 45 Min)</li>
                        <li>Kinderhaarschnitt (20‚Ç¨, 30 Min)</li>
                        <li>Trockenschnitt (30‚Ç¨, 30 Min)</li>
                        <li>Waschen, schneiden, f√∂hnen (55‚Ç¨, 60 Min)</li>
                    </ul>
                </div>
                <div class="capability-item">
                    <h4>F√§rbungen</h4>
                    <ul>
                        <li>Ansatzf√§rbung (58‚Ç¨, 135 Min)</li>
                        <li>Ansatz + L√§ngenausgleich (85‚Ç¨, 155 Min)</li>
                        <li>Balayage/Ombr√© (110‚Ç¨, 150 Min)</li>
                        <li>Komplette Umf√§rbung (145‚Ç¨, 180 Min)</li>
                    </ul>
                </div>
                <div class="capability-item">
                    <h4>Styling & Pflege</h4>
                    <ul>
                        <li>F√∂hnen & Styling Damen (32‚Ç¨, 30 Min)</li>
                        <li>F√∂hnen & Styling Herren (20‚Ç¨, 20 Min)</li>
                        <li>Waschen & Styling (28‚Ç¨, 45 Min)</li>
                        <li>Dauerwelle (78‚Ç¨, 135 Min)</li>
                    </ul>
                </div>
                <div class="capability-item">
                    <h4>Treatments</h4>
                    <ul>
                        <li>Hairdetox (22‚Ç¨, 15 Min)</li>
                        <li>Rebuild Treatment Olaplex (42‚Ç¨, 15 Min)</li>
                        <li>Intensiv Pflege Maria Nila (28‚Ç¨, 15 Min)</li>
                        <li>Gloss (38‚Ç¨, 30 Min)</li>
                        <li>Haarspende (28‚Ç¨, 30 Min)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Limitations -->
        <div class="card">
            <h2>‚ö†Ô∏è Limitierungen & Bekannte Constraints</h2>
            <div class="capability-grid">
                <div class="limitation-item capability-item">
                    <h4>üö´ Was es NICHT kann</h4>
                    <ul>
                        <li>Bezahlung verarbeiten (nur Buchung)</li>
                        <li>Spezielle Kundenw√ºnsche speichern</li>
                        <li>Stylist-Pr√§ferenzen ber√ºcksichtigen</li>
                        <li>Mehrfachbuchungen (nur 1 Termin pro Call)</li>
                        <li>Terminbest√§tigung per SMS (nur Email)</li>
                    </ul>
                </div>
                <div class="limitation-item capability-item">
                    <h4>‚è±Ô∏è Performance Constraints</h4>
                    <ul>
                        <li>check_availability: 2-4s Latenz</li>
                        <li>book_appointment: 4-5s Latenz</li>
                        <li>Max Call Duration: 30 Minuten</li>
                        <li>Silence Timeout: 60 Sekunden</li>
                        <li>Tool Timeout: 5-30s je nach Tool</li>
                    </ul>
                </div>
                <div class="limitation-item capability-item">
                    <h4>üîí Sicherheit & Datenschutz</h4>
                    <ul>
                        <li>Keine Kreditkarteninformationen</li>
                        <li>PII wird nach Call redacted</li>
                        <li>Keine medizinischen Informationen</li>
                        <li>Webhook-basierte Authentifizierung</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Technical Details -->
        <div class="card">
            <h2>üîß Technische Konfiguration</h2>

            <h3>Voice & Speech Settings</h3>
            <div class="json-block">
{
  "voice_id": "11labs-Adrian",
  "voice_temperature": 0.02,
  "voice_speed": 1,
  "language": "de-DE",
  "interruption_sensitivity": 1,
  "responsiveness": 1,
  "enable_backchannel": true
}
            </div>

            <h3>Model Configuration</h3>
            <div class="json-block">
{
  "model_choice": {
    "type": "cascading",
    "model": "gpt-4o-mini"
  },
  "model_temperature": 0.3,
  "post_call_analysis_model": "gpt-4o-mini"
}
            </div>

            <h3>Call Settings</h3>
            <div class="json-block">
{
  "max_call_duration_ms": 1800000,  // 30 minutes
  "end_call_after_silence_ms": 60000,  // 1 minute
  "reminder_trigger_ms": 10000,
  "reminder_max_count": 2,
  "begin_after_user_silence_ms": 800
}
            </div>
        </div>

        <!-- Conversation Flow -->
        <div class="card">
            <h2>üîÑ Conversation Flow Structure</h2>

            <h3>Node Overview</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <strong>1. Begr√º√üung</strong><br>
                    "Willkommen bei Friseur 1! Wie kann ich Ihnen helfen?"
                </div>
                <div class="timeline-item">
                    <strong>2. Intent Erkennung</strong><br>
                    Klassifiziert Kundenanfrage: BOOK | CHECK | CANCEL | RESCHEDULE | SERVICES
                </div>
                <div class="timeline-item">
                    <strong>3a. Buchungsdaten sammeln</strong><br>
                    Erfasst: Name, Service, Datum, Uhrzeit (State-aware, keine Redundanz)
                </div>
                <div class="timeline-item">
                    <strong>3b. Verf√ºgbarkeit pr√ºfen</strong><br>
                    Tool Call: check_availability_v17 ‚Üí zeigt Ergebnis/Alternativen
                </div>
                <div class="timeline-item">
                    <strong>3c. Termin buchen</strong><br>
                    Tool Call: book_appointment_v17 oder start_booking ‚Üí confirm_booking
                </div>
                <div class="timeline-item">
                    <strong>4. Best√§tigung & Ende</strong><br>
                    Zusammenfassung + Email-Best√§tigung + Follow-up Fragen
                </div>
            </div>

            <h3>Alternative Flows</h3>
            <ul style="list-style: none; padding-left: 20px;">
                <li>üìÖ <strong>Termine anzeigen:</strong> Intent ‚Üí get_customer_appointments ‚Üí Liste pr√§sentieren</li>
                <li>üóëÔ∏è <strong>Termin stornieren:</strong> Intent ‚Üí Daten sammeln ‚Üí cancel_appointment ‚Üí Best√§tigung</li>
                <li>üîÑ <strong>Termin verschieben:</strong> Intent ‚Üí Alt & Neu sammeln ‚Üí reschedule_appointment ‚Üí Best√§tigung</li>
                <li>‚ÑπÔ∏è <strong>Services auflisten:</strong> Intent ‚Üí get_available_services ‚Üí Liste pr√§sentieren</li>
            </ul>
        </div>

        <!-- Version History -->
        <div class="card">
            <h2>üìú Version History</h2>
            <table class="tool-table">
                <thead>
                    <tr>
                        <th>Version</th>
                        <th>Datum</th>
                        <th>√Ñnderungen</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>V47</strong></td>
                        <td>2025-11-05</td>
                        <td>
                            ‚Ä¢ Preise/Dauer aus Service-Disambiguierung entfernt<br>
                            ‚Ä¢ Tool-Call Enforcement hinzugef√ºgt<br>
                            ‚Ä¢ Beispielzeiten aus Prompt entfernt<br>
                            ‚Ä¢ Proaktive Terminvorschl√§ge verbessert
                        </td>
                        <td><span class="badge badge-success">LIVE</span></td>
                    </tr>
                    <tr>
                        <td><strong>V46</strong></td>
                        <td>2025-11-05</td>
                        <td>
                            ‚Ä¢ UX-Verbesserungen hinzugef√ºgt<br>
                            ‚Ä¢ Service-Disambiguierung implementiert<br>
                            ‚Ä¢ Problem: Agent kopierte Beispielzeiten
                        </td>
                        <td><span class="badge badge-warning">Superseded</span></td>
                    </tr>
                    <tr>
                        <td><strong>V44</strong></td>
                        <td>2025-11-05</td>
                        <td>
                            ‚Ä¢ Jahr-Bug gefixt (2023 ‚Üí 2025)<br>
                            ‚Ä¢ Date Context hinzugef√ºgt
                        </td>
                        <td><span class="badge badge-warning">Superseded</span></td>
                    </tr>
                    <tr>
                        <td><strong>V42</strong></td>
                        <td>2025-11-05</td>
                        <td>
                            ‚Ä¢ Date context section hinzugef√ºgt
                        </td>
                        <td><span class="badge badge-warning">Superseded</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Testing Scenarios -->
        <div class="card">
            <h2>üß™ Testing Scenarios (V47)</h2>

            <h3>Scenario A: Service-Disambiguierung ohne Preise</h3>
            <div class="capability-item">
                <h4>User Input</h4>
                <code>"Ich m√∂chte einen Haarschnitt buchen"</code>

                <h4 style="margin-top: 15px;">Erwartetes Verhalten</h4>
                <ul>
                    <li>Agent fragt: "Herrenhaarschnitt oder Damenhaarschnitt?"</li>
                    <li>KEINE Preise genannt</li>
                    <li>KEINE Dauer genannt</li>
                </ul>
            </div>

            <h3>Scenario B: Proaktive Terminvorschl√§ge</h3>
            <div class="capability-item">
                <h4>User Input</h4>
                <code>"Was haben Sie heute noch frei?"</code>

                <h4 style="margin-top: 15px;">Erwartetes Verhalten</h4>
                <ul>
                    <li>Agent ruft check_availability auf</li>
                    <li>Agent zeigt verf√ºgbare Zeiten aus Tool Response</li>
                    <li>KEINE Zeiten in der Vergangenheit</li>
                    <li>Zeiten sind REAL verf√ºgbar (nicht erfunden)</li>
                </ul>
            </div>

            <h3>Scenario C: Preis auf explizite Nachfrage</h3>
            <div class="capability-item">
                <h4>User Input</h4>
                <code>"Was kostet ein Herrenhaarschnitt?"</code>

                <h4 style="margin-top: 15px;">Erwartetes Verhalten</h4>
                <ul>
                    <li>Agent nennt Preis: "32‚Ç¨"</li>
                    <li>Agent nennt Dauer: "55 Minuten"</li>
                    <li>NUR wenn explizit gefragt!</li>
                </ul>
            </div>
        </div>

        <!-- Integration Details -->
        <div class="card">
            <h2>üîå Integration Details</h2>

            <h3>Webhook Configuration</h3>
            <div class="json-block">
{
  "webhook_url": "https://api.askproai.de/api/webhooks/retell",
  "method": "POST",
  "authentication": "Bearer Token (API Key)",
  "endpoints": {
    "function_calls": "/api/webhooks/retell/function",
    "call_events": "/api/webhooks/retell"
  }
}
            </div>

            <h3>External Dependencies</h3>
            <ul style="padding-left: 40px;">
                <li><strong>Cal.com API V2:</strong> Terminbuchung, Verf√ºgbarkeit, Event Types</li>
                <li><strong>Retell.ai API:</strong> Voice AI, Conversation Flow, Function Calling</li>
                <li><strong>PostgreSQL Database:</strong> Appointments, Customers, Services, Branches</li>
                <li><strong>Redis Cache:</strong> Availability Cache (5min TTL), Session Data</li>
            </ul>

            <h3>Data Flow</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <strong>1. Inbound Call</strong><br>
                    Retell.ai receives call ‚Üí Agent V47 activated
                </div>
                <div class="timeline-item">
                    <strong>2. Conversation</strong><br>
                    User speaks ‚Üí Retell processes ‚Üí Agent responds
                </div>
                <div class="timeline-item">
                    <strong>3. Function Call</strong><br>
                    Agent calls tool ‚Üí Webhook to Laravel API ‚Üí Process request
                </div>
                <div class="timeline-item">
                    <strong>4. Cal.com Integration</strong><br>
                    Laravel calls Cal.com API V2 ‚Üí Create/Check booking
                </div>
                <div class="timeline-item">
                    <strong>5. Database Save</strong><br>
                    Save appointment in PostgreSQL ‚Üí Update cache
                </div>
                <div class="timeline-item">
                    <strong>6. Response</strong><br>
                    Return result to Agent ‚Üí Agent speaks to user
                </div>
            </div>
        </div>

        <!-- Documentation Links -->
        <div class="card">
            <h2>üìö Weitere Dokumentation</h2>
            <div class="capability-grid">
                <div style="background: #e8f5e9; padding: 20px; border-radius: 8px;">
                    <h4 style="color: #2E7D32; margin-top: 0;">E2E Documentation</h4>
                    <p style="color: #555; margin: 10px 0;">Vollst√§ndige End-to-End Prozessdokumentation</p>
                    <a href="backup-system/index.html" style="color: #4CAF50; text-decoration: none; font-weight: 600;">‚Üí E2E Docs</a>
                </div>
                <div style="background: #e3f2fd; padding: 20px; border-radius: 8px;">
                    <h4 style="color: #1565C0; margin-top: 0;">Root Cause Analysis</h4>
                    <p style="color: #555; margin: 10px 0;">Detaillierte Analysen von Test Calls</p>
                    <a href="../TESTCALL_V46_ROOT_CAUSE_ANALYSIS_2025-11-05.md" style="color: #2196F3; text-decoration: none; font-weight: 600;">‚Üí RCA V46</a>
                </div>
                <div style="background: #fce4ec; padding: 20px; border-radius: 8px;">
                    <h4 style="color: #C2185B; margin-top: 0;">V47 Ready for Testing</h4>
                    <p style="color: #555; margin: 10px 0;">V47 Deployment & Testing Guide</p>
                    <a href="../V47_READY_FOR_TESTING_2025-11-05.md" style="color: #E91E63; text-decoration: none; font-weight: 600;">‚Üí V47 Guide</a>
                </div>
                <div style="background: #fff3e0; padding: 20px; border-radius: 8px;">
                    <h4 style="color: #E65100; margin-top: 0;">API Documentation</h4>
                    <p style="color: #555; margin: 10px 0;">Webhook & Function Call Specs</p>
                    <a href="../app/Http/Controllers/RetellFunctionCallHandler.php" style="color: #FF9800; text-decoration: none; font-weight: 600;">‚Üí API Docs</a>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p><strong>AskPro AI Gateway</strong> | Retell Agent V47 Documentation</p>
        <p>Last Updated: 2025-11-05 20:15 Uhr | <a href="https://api.askproai.de" style="color: white;">api.askproai.de</a></p>
    </div>
</body>
</html>
