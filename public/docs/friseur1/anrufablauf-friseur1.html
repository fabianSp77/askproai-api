<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friseur 1 - Anrufablauf & Service-Dokumentation</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header {
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
            margin-bottom: 40px;
        }

        h1 {
            color: #1e40af;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #64748b;
            font-size: 1.1em;
        }

        .toc {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            margin: 30px 0;
            border-left: 4px solid #2563eb;
        }

        .toc h2 {
            color: #1e40af;
            margin-bottom: 15px;
        }

        .toc ul {
            list-style: none;
            padding-left: 0;
        }

        .toc li {
            margin: 8px 0;
        }

        .toc a {
            color: #2563eb;
            text-decoration: none;
            transition: color 0.2s;
        }

        .toc a:hover {
            color: #1e40af;
            text-decoration: underline;
        }

        section {
            margin: 50px 0;
            scroll-margin-top: 20px;
        }

        h2 {
            color: #1e40af;
            font-size: 2em;
            margin: 40px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        h3 {
            color: #334155;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        h4 {
            color: #475569;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }

        .service-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            transition: box-shadow 0.2s;
        }

        .service-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .service-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
        }

        .service-name {
            font-size: 1.4em;
            font-weight: 600;
            color: #1e40af;
        }

        .service-price {
            font-size: 1.3em;
            font-weight: 700;
            color: #16a34a;
        }

        .service-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-label {
            font-weight: 600;
            color: #64748b;
        }

        .detail-value {
            color: #334155;
        }

        .synonyms-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e2e8f0;
        }

        .synonyms-title {
            font-weight: 600;
            color: #64748b;
            margin-bottom: 10px;
        }

        .synonym-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .synonym-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .synonym-high {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #86efac;
        }

        .synonym-medium {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }

        .synonym-low {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }

        .synonym-very-low {
            background: #f3f4f6;
            color: #4b5563;
            border: 1px solid #d1d5db;
        }

        .info-box {
            background: #eff6ff;
            border-left: 4px solid #2563eb;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #dcfce7;
            border-left: 4px solid #16a34a;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .mermaid {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: #f8fafc;
            font-weight: 600;
            color: #475569;
        }

        tr:hover {
            background: #f8fafc;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-card.green {
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        }

        .stat-card.blue {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
        }

        .stat-card.orange {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: 700;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 2px solid #e2e8f0;
            text-align: center;
            color: #64748b;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® Friseur 1 - Anrufablauf & Service-Dokumentation</h1>
            <p class="subtitle">Komplette √úbersicht aller Services, Synonyme und Telefonie-Integration</p>
            <p class="subtitle">Stand: 2025-11-05 | Version 1.0</p>
        </header>

        <nav class="toc">
            <h2>üìã Inhaltsverzeichnis</h2>
            <ul>
                <li><a href="#overview">1. √úbersicht & Statistiken</a></li>
                <li><a href="#services">2. Alle Services & Synonyme</a></li>
                <li><a href="#matching">3. Service-Matching-System</a></li>
                <li><a href="#callflow">4. Telefonie-Ablauf</a></li>
                <li><a href="#confirmation">5. Best√§tigungsmechanismus</a></li>
                <li><a href="#testing">6. Testing & Deployment</a></li>
            </ul>
        </nav>

        <!-- SECTION 1: OVERVIEW -->
        <section id="overview">
            <h2>1. √úbersicht & Statistiken</h2>

            <div class="stats-grid">
                <div class="stat-card blue">
                    <div class="stat-label">Aktive Services</div>
                    <div class="stat-value">18</div>
                </div>
                <div class="stat-card green">
                    <div class="stat-label">Gesamt Synonyme</div>
                    <div class="stat-value">~150</div>
                </div>
                <div class="stat-card orange">
                    <div class="stat-label">Durchschnitt pro Service</div>
                    <div class="stat-value">8.3</div>
                </div>
            </div>

            <div class="info-box">
                <h4>üéØ Zweck dieses Dokuments</h4>
                <p>Diese Dokumentation zeigt alle Services von Friseur 1 mit ihren alternativen Bezeichnungen (Synonymen), die Kunden am Telefon verwenden k√∂nnten. Das KI-System nutzt diese Synonyme f√ºr intelligentes Service-Matching w√§hrend Telefongespr√§chen.</p>
            </div>

            <h3>Service-Kategorien</h3>
            <table>
                <thead>
                    <tr>
                        <th>Kategorie</th>
                        <th>Anzahl Services</th>
                        <th>Preisbereich</th>
                        <th>Beispiele</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Haarschnitte</strong></td>
                        <td>4</td>
                        <td>20‚Ç¨ - 55‚Ç¨</td>
                        <td>Herren-, Damen-, Kinderhaarschnitt</td>
                    </tr>
                    <tr>
                        <td><strong>F√§rbungen</strong></td>
                        <td>5</td>
                        <td>58‚Ç¨ - 145‚Ç¨</td>
                        <td>Balayage, Ansatzf√§rbung, Blondierung</td>
                    </tr>
                    <tr>
                        <td><strong>Styling</strong></td>
                        <td>4</td>
                        <td>18‚Ç¨ - 55‚Ç¨</td>
                        <td>F√∂hnen, Styling, Waschen</td>
                    </tr>
                    <tr>
                        <td><strong>Spezialbehandlungen</strong></td>
                        <td>5</td>
                        <td>30‚Ç¨ - 78‚Ç¨</td>
                        <td>Dauerwelle, Olaplex, Gloss</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- SECTION 2: SERVICES -->
        <section id="services">
            <h2>2. Alle Services & Synonyme</h2>

            <p>Folgende 18 Services sind f√ºr Friseur 1 aktiv. Jeder Service hat alternative Bezeichnungen (Synonyme) mit Confidence-Scores, die angeben, wie wahrscheinlich ein Kunde diese Bezeichnung verwendet.</p>

            <!-- Service 1: Herrenhaarschnitt -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Herrenhaarschnitt</div>
                    <div class="service-price">32,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">55 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419968</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">438</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (10 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Herrenschnitt <small>(95%)</small></span>
                        <span class="synonym-badge synonym-high">M√§nnerhaarschnitt <small>(90%)</small></span>
                        <span class="synonym-badge synonym-high">Haarschnitt Herren <small>(90%)</small></span>
                        <span class="synonym-badge synonym-medium">M√§nnerschnitt <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Haarschnitt f√ºr M√§nner <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Haare schneiden Mann <small>(80%)</small></span>
                        <span class="synonym-badge synonym-medium">Kurzhaarschnitt Herren <small>(75%)</small></span>
                        <span class="synonym-badge synonym-low">Herren Frisur <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">M√§nner Frisur <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Schneiden Herren <small>(65%)</small></span>
                    </div>
                </div>
            </div>

            <!-- Service 2: Damenhaarschnitt -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Damenhaarschnitt</div>
                    <div class="service-price">45,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">45 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419966</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">436</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (10 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Damenschnitt <small>(95%)</small></span>
                        <span class="synonym-badge synonym-high">Frauenhaarschnitt <small>(90%)</small></span>
                        <span class="synonym-badge synonym-high">Haarschnitt Damen <small>(90%)</small></span>
                        <span class="synonym-badge synonym-medium">Frauenschnitt <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Haarschnitt f√ºr Frauen <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Haare schneiden Frau <small>(80%)</small></span>
                        <span class="synonym-badge synonym-low">Damen Frisur <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Frauen Frisur <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Schneiden Damen <small>(65%)</small></span>
                        <span class="synonym-badge synonym-very-low">Langhaarschnitt <small>(60%)</small></span>
                    </div>
                </div>
            </div>

            <!-- Service 3: Kinderhaarschnitt -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Kinderhaarschnitt</div>
                    <div class="service-price">20,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">30 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419965</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">434</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (7 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Kinderschnitt <small>(95%)</small></span>
                        <span class="synonym-badge synonym-high">Haarschnitt Kinder <small>(90%)</small></span>
                        <span class="synonym-badge synonym-medium">Haarschnitt f√ºr Kinder <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Haare schneiden Kind <small>(80%)</small></span>
                        <span class="synonym-badge synonym-low">Kinder Frisur <small>(70%)</small></span>
                        <span class="synonym-badge synonym-very-low">Babyhaarschnitt <small>(60%)</small></span>
                        <span class="synonym-badge synonym-very-low">Baby Frisur <small>(55%)</small></span>
                    </div>
                </div>
            </div>

            <!-- Service 4: Waschen, schneiden, f√∂hnen -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Waschen, schneiden, f√∂hnen</div>
                    <div class="service-price">55,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">60 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419969</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">439</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (8 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Waschen schneiden f√∂hnen <small>(100%)</small></span>
                        <span class="synonym-badge synonym-medium">Waschen und Schneiden <small>(75%)</small></span>
                        <span class="synonym-badge synonym-medium">Schneiden und F√∂hnen <small>(75%)</small></span>
                        <span class="synonym-badge synonym-low">Komplett Paket <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Rundum Service <small>(65%)</small></span>
                        <span class="synonym-badge synonym-very-low">Alles zusammen <small>(60%)</small></span>
                        <span class="synonym-badge synonym-very-low">WaSch <small>(50%)</small></span>
                        <span class="synonym-badge synonym-very-low">WSF <small>(50%)</small></span>
                    </div>
                </div>
            </div>

            <!-- Service 5: Balayage/Ombr√© -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Balayage/Ombr√©</div>
                    <div class="service-price">110,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">150 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419974</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">443</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (12 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Balayage <small>(95%)</small></span>
                        <span class="synonym-badge synonym-high">Ombr√© <small>(95%)</small></span>
                        <span class="synonym-badge synonym-high">Ombre <small>(95%)</small></span>
                        <span class="synonym-badge synonym-medium">Highlights <small>(80%)</small></span>
                        <span class="synonym-badge synonym-medium">Str√§hnchen <small>(75%)</small></span>
                        <span class="synonym-badge synonym-medium">Str√§hnen <small>(75%)</small></span>
                        <span class="synonym-badge synonym-low">M√®ches <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Sombr√© <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Babylights <small>(65%)</small></span>
                        <span class="synonym-badge synonym-low">Folienstr√§hnen <small>(65%)</small></span>
                        <span class="synonym-badge synonym-very-low">Farbeframing <small>(60%)</small></span>
                        <span class="synonym-badge synonym-very-low">Farbverlauf <small>(60%)</small></span>
                    </div>
                </div>
            </div>

            <!-- Service 6: Komplette Umf√§rbung (Blondierung) -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Komplette Umf√§rbung (Blondierung)</div>
                    <div class="service-price">145,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">180 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419975</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">444</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (9 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Blondierung <small>(95%)</small></span>
                        <span class="synonym-badge synonym-high">Blond f√§rben <small>(90%)</small></span>
                        <span class="synonym-badge synonym-medium">Komplettf√§rbung <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Komplett blond <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Umf√§rben <small>(80%)</small></span>
                        <span class="synonym-badge synonym-medium">Aufhellen <small>(75%)</small></span>
                        <span class="synonym-badge synonym-low">Bleichen <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Platinblond <small>(65%)</small></span>
                        <span class="synonym-badge synonym-very-low">Hellblond <small>(60%)</small></span>
                    </div>
                </div>
            </div>

            <!-- Service 7: Dauerwelle -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Dauerwelle</div>
                    <div class="service-price">78,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">135 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419972</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">441</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (6 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Dauerwellen <small>(98%)</small></span>
                        <span class="synonym-badge synonym-medium">Welle <small>(75%)</small></span>
                        <span class="synonym-badge synonym-low">Locken <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Locken machen <small>(65%)</small></span>
                        <span class="synonym-badge synonym-very-low">Permanent <small>(60%)</small></span>
                        <span class="synonym-badge synonym-very-low">Perm <small>(55%)</small></span>
                    </div>
                </div>
            </div>

            <!-- Service 8: Ansatzf√§rbung -->
            <div class="service-card">
                <div class="service-header">
                    <div class="service-name">Ansatzf√§rbung</div>
                    <div class="service-price">58,00 ‚Ç¨</div>
                </div>
                <div class="service-details">
                    <div class="detail-item">
                        <span class="detail-label">‚è±Ô∏è Dauer:</span>
                        <span class="detail-value">135 Minuten</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üîó Cal.com ID:</span>
                        <span class="detail-value">1419970</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">üìä Service ID:</span>
                        <span class="detail-value">440</span>
                    </div>
                </div>
                <div class="synonyms-section">
                    <div class="synonyms-title">üó£Ô∏è Alternative Begriffe (6 Synonyme):</div>
                    <div class="synonym-list">
                        <span class="synonym-badge synonym-high">Ansatz f√§rben <small>(95%)</small></span>
                        <span class="synonym-badge synonym-high">Ansatzfarbe <small>(90%)</small></span>
                        <span class="synonym-badge synonym-medium">Ansatz nachf√§rben <small>(85%)</small></span>
                        <span class="synonym-badge synonym-medium">Ansatz <small>(75%)</small></span>
                        <span class="synonym-badge synonym-low">Nachwachsen f√§rben <small>(70%)</small></span>
                        <span class="synonym-badge synonym-low">Ansatz auffrischen <small>(65%)</small></span>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <h4>‚ÑπÔ∏è Weitere 10 Services</h4>
                <p>Zus√§tzlich zu den oben gezeigten Hauptservices bietet Friseur 1 noch 10 weitere Services an:</p>
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li><strong>Waschen & Styling</strong> - 18‚Ç¨ (25 Min)</li>
                    <li><strong>F√∂hnen & Styling Herren</strong> - 25‚Ç¨ (15 Min)</li>
                    <li><strong>F√∂hnen & Styling Damen</strong> - 30‚Ç¨ (30 Min)</li>
                    <li><strong>Trockenschnitt</strong> - 35‚Ç¨ (25 Min)</li>
                    <li><strong>Ansatz + L√§ngenausgleich</strong> - 75‚Ç¨ (150 Min)</li>
                    <li><strong>Gloss</strong> - 38‚Ç¨ (90 Min)</li>
                    <li><strong>Haarspende</strong> - 0‚Ç¨ (60 Min)</li>
                    <li><strong>Rebuild Treatment Olaplex</strong> - 35‚Ç¨ (45 Min)</li>
                    <li><strong>Intensiv Pflege Maria Nila</strong> - 30‚Ç¨ (45 Min)</li>
                    <li><strong>Hairdetox</strong> - 45‚Ç¨ (90 Min)</li>
                </ul>
                <p style="margin-top: 10px; font-size: 0.9em; color: #64748b;">Jeder dieser Services hat ebenfalls 4-7 Synonyme im System hinterlegt.</p>
            </div>
        </section>

        <!-- SECTION 3: MATCHING SYSTEM -->
        <section id="matching">
            <h2>3. Service-Matching-System</h2>

            <p>Das System verwendet eine intelligente 3-Stufen-Strategie, um zu verstehen, welchen Service der Kunde meint:</p>

            <div class="mermaid">
graph TD
    A[Kunde sagt Service-Name] --> B{1. Exact Match?}
    B -->|Ja| C[‚úÖ Service gefunden]
    B -->|Nein| D{2. Synonym Match?}
    D -->|Ja| E{Confidence >= 85%?}
    E -->|Ja| C
    E -->|Nein| F[Best√§tigung einholen]
    D -->|Nein| G{3. Fuzzy Match?}
    G -->|Ja, >= 75%| F
    G -->|Nein| H[‚ùå Alternativen anbieten]

    F --> I{Kunde best√§tigt?}
    I -->|Ja| C
    I -->|Nein| H
            </div>

            <h3>Stufe 1: Exact Match</h3>
            <div class="success-box">
                <p><strong>Beispiel:</strong> Kunde sagt "Herrenhaarschnitt"</p>
                <p>‚úÖ System findet Service direkt in <code>services.name</code></p>
                <p>‚úÖ Keine Best√§tigung n√∂tig - 100% Match</p>
            </div>

            <h3>Stufe 2: Synonym Match</h3>
            <div class="success-box">
                <p><strong>Beispiel:</strong> Kunde sagt "Herrenschnitt"</p>
                <p>‚ùå Nicht in <code>services.name</code> gefunden</p>
                <p>‚úÖ In <code>service_synonyms</code> gefunden ‚Üí Service ID 438 (Confidence: 95%)</p>
                <p>‚úÖ Confidence >= 85% ‚Üí Keine Best√§tigung n√∂tig</p>
            </div>

            <div class="warning-box">
                <p><strong>Beispiel mit niedriger Confidence:</strong> Kunde sagt "Locken"</p>
                <p>‚úÖ In <code>service_synonyms</code> gefunden ‚Üí Service "Dauerwelle" (Confidence: 70%)</p>
                <p>‚ö†Ô∏è Confidence < 85% ‚Üí <strong>Best√§tigung erforderlich!</strong></p>
                <p>üí¨ Agent fragt: "Sie meinten Locken - meinten Sie damit eine Dauerwelle?"</p>
            </div>

            <h3>Stufe 3: Fuzzy Match</h3>
            <div class="info-box">
                <p><strong>Beispiel:</strong> Kunde sagt "Herrenschit" (Tippfehler in Sprach-zu-Text)</p>
                <p>‚ùå Weder Exact noch Synonym Match</p>
                <p>üîç Fuzzy Matching (Levenshtein-Distanz):</p>
                <ul style="margin-top: 5px; margin-left: 20px;">
                    <li>"Herrenschit" vs "Herrenschnitt": 92% √Ñhnlichkeit</li>
                    <li>Threshold: 75%</li>
                    <li>‚úÖ Match gefunden!</li>
                </ul>
                <p>‚ö†Ô∏è Immer Best√§tigung einholen bei Fuzzy Match</p>
            </div>

            <h3>Confidence Score Bedeutung</h3>
            <table>
                <thead>
                    <tr>
                        <th>Score</th>
                        <th>Bedeutung</th>
                        <th>Aktion</th>
                        <th>Beispiel</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="synonym-badge synonym-high">95-100%</span></td>
                        <td>Exaktes/Sehr h√§ufiges Synonym</td>
                        <td>‚úÖ Direkt verwenden</td>
                        <td>"Herrenschnitt" f√ºr "Herrenhaarschnitt"</td>
                    </tr>
                    <tr>
                        <td><span class="synonym-badge synonym-medium">85-94%</span></td>
                        <td>H√§ufig verwendet</td>
                        <td>‚úÖ Direkt verwenden</td>
                        <td>"M√§nnerschnitt" f√ºr "Herrenhaarschnitt"</td>
                    </tr>
                    <tr>
                        <td><span class="synonym-badge synonym-low">75-84%</span></td>
                        <td>Gelegentlich verwendet</td>
                        <td>‚ö†Ô∏è Best√§tigung einholen</td>
                        <td>"Str√§hnchen" f√ºr "Balayage/Ombr√©"</td>
                    </tr>
                    <tr>
                        <td><span class="synonym-badge synonym-very-low">60-74%</span></td>
                        <td>Selten verwendet</td>
                        <td>‚ö†Ô∏è Best√§tigung einholen</td>
                        <td>"Locken" f√ºr "Dauerwelle"</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- SECTION 4: CALL FLOW -->
        <section id="callflow">
            <h2>4. Telefonie-Ablauf</h2>

            <h3>Kompletter Anrufablauf mit Service-Matching</h3>

            <div class="mermaid">
sequenceDiagram
    participant Kunde
    participant Agent as Retell AI Agent
    participant Backend as Laravel Backend
    participant Cal as Cal.com API

    Kunde->>Agent: "Ich m√∂chte einen Herrenschnitt"

    Note over Agent,Backend: SERVICE MATCHING
    Agent->>Backend: collect_appointment_info(service="Herrenschnitt")
    Backend->>Backend: 1. Exact Match? Nein
    Backend->>Backend: 2. Synonym Match? Ja (95%)
    Backend->>Backend: Service ID 438 gefunden
    Backend->>Agent: ‚úÖ Service: "Herrenhaarschnitt" (32‚Ç¨, 55 Min)

    Agent->>Kunde: "F√ºr wann m√∂chten Sie den Termin?"
    Kunde->>Agent: "Heute um 17:45 Uhr"

    Note over Agent,Cal: AVAILABILITY CHECK
    Agent->>Backend: check_availability_v17(service_id=438, date="2025-11-05", time="17:45")
    Backend->>Cal: GET /v2/slots/available
    Cal->>Backend: Available slots: [16:30, 18:15, 19:00]
    Backend->>Agent: ‚ùå 17:45 nicht verf√ºgbar, Alternativen: 16:30, 18:15, 19:00

    Agent->>Kunde: "17:45 ist leider nicht frei. Passt Ihnen 18:15 Uhr?"
    Kunde->>Agent: "Ja, 18:15 ist okay"

    Note over Agent,Backend: BOOKING
    Agent->>Backend: book_appointment_v17(service_id=438, slot="2025-11-05T18:15")
    Backend->>Backend: Create Appointment in DB
    Backend->>Cal: POST /v2/bookings
    Cal->>Backend: ‚úÖ Booking created (ID: xyz)
    Backend->>Agent: ‚úÖ success=true, booking_id=xyz

    Agent->>Kunde: "Perfekt! Ihr Termin f√ºr einen Herrenhaarschnitt ist gebucht f√ºr heute um 18:15 Uhr."
            </div>

            <h3>Tool-Aufrufe im Detail</h3>

            <h4>1. collect_appointment_info</h4>
            <pre><code>{
  "service_name": "Herrenschnitt",
  "date": "heute",
  "time": "17:45",
  "customer_name": "Hans Schuster"
}</code></pre>

            <p><strong>Backend-Verarbeitung:</strong></p>
            <ol>
                <li>Service-Matching (3-Stufen)</li>
                <li>Service-Details laden (Preis, Dauer, Cal.com ID)</li>
                <li>Customer-Daten sammeln</li>
            </ol>

            <h4>2. check_availability_v17</h4>
            <pre><code>{
  "service_id": 438,
  "date": "2025-11-05",
  "time": "17:45",
  "duration": 55
}</code></pre>

            <p><strong>Backend-Verarbeitung:</strong></p>
            <ol>
                <li>Cal.com Event Type ID ermitteln (1419968)</li>
                <li>Cal.com API abfragen: <code>/v2/slots/available</code></li>
                <li>Verf√ºgbare Slots zur√ºckgeben</li>
                <li>Alternative Zeiten vorschlagen wenn Wunschzeit nicht frei</li>
            </ol>

            <h4>3. book_appointment_v17</h4>
            <pre><code>{
  "service_id": 438,
  "start_time": "2025-11-05T18:15:00",
  "customer_name": "Hans Schuster",
  "customer_email": "hans.schuster@example.com",
  "customer_phone": "+49123456789"
}</code></pre>

            <p><strong>Backend-Verarbeitung:</strong></p>
            <ol>
                <li>Appointment in Laravel DB erstellen</li>
                <li>Cal.com Booking erstellen</li>
                <li>Sync-Status aktualisieren</li>
                <li>Erfolg zur√ºckmelden</li>
            </ol>
        </section>

        <!-- SECTION 5: CONFIRMATION -->
        <section id="confirmation">
            <h2>5. Best√§tigungsmechanismus</h2>

            <p>Bei unsicheren Service-Matches (Confidence < 85% oder Fuzzy Match) sollte der Agent r√ºckfragen:</p>

            <h3>Wann Best√§tigung notwendig?</h3>
            <ul style="margin-left: 20px; line-height: 2;">
                <li>‚úÖ Synonym mit Confidence < 85%</li>
                <li>‚úÖ Fuzzy Match (auch wenn >= 75%)</li>
                <li>‚úÖ Mehrere m√∂gliche Services gefunden</li>
                <li>‚ùå Exact Match - keine Best√§tigung n√∂tig</li>
                <li>‚ùå Synonym mit Confidence >= 85% - keine Best√§tigung n√∂tig</li>
            </ul>

            <h3>Conversation Flow Konzept</h3>

            <div class="mermaid">
graph TD
    A[Service erkannt] --> B{Confidence Score?}
    B -->|>= 0.85| C[Direkt verwenden]
    B -->|< 0.85| D[Best√§tigung einholen]

    D --> E["Agent: Meinten Sie damit X?"]
    E --> F{Kunde Antwort}
    F -->|"Ja, genau"| C
    F -->|"Nein"| G[Alternativen anbieten]
    F -->|Unklar| H[Nochmal fragen]

    G --> I[Andere Services vorschlagen]
    I --> J{Kunde w√§hlt aus?}
    J -->|Ja| C
    J -->|Nein| K[Manuell erfragen]
            </div>

            <h3>Beispiel-Dialoge</h3>

            <h4>Szenario 1: High Confidence - Keine Best√§tigung</h4>
            <div class="success-box">
                <p><strong>üë§ Kunde:</strong> "Ich m√∂chte einen Herrenschnitt"</p>
                <p><strong>ü§ñ Agent:</strong> "Gerne! F√ºr einen Herrenhaarschnitt (55 Minuten, 32 Euro). F√ºr wann m√∂chten Sie den Termin?"</p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #16a34a;"><strong>‚úÖ Grund:</strong> Synonym "Herrenschnitt" hat 95% Confidence ‚Üí Direkt verwenden</p>
            </div>

            <h4>Szenario 2: Medium Confidence - Best√§tigung</h4>
            <div class="warning-box">
                <p><strong>üë§ Kunde:</strong> "Ich m√∂chte Str√§hnchen"</p>
                <p><strong>ü§ñ Agent:</strong> "Sie m√∂chten Str√§hnchen - meinten Sie damit eine Balayage/Ombr√© Behandlung?"</p>
                <p><strong>üë§ Kunde:</strong> "Ja, genau!"</p>
                <p><strong>ü§ñ Agent:</strong> "Perfekt! Das dauert etwa 150 Minuten und kostet 110 Euro. F√ºr wann m√∂chten Sie den Termin?"</p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #d97706;"><strong>‚ö†Ô∏è Grund:</strong> Synonym "Str√§hnchen" hat nur 75% Confidence ‚Üí Best√§tigung erforderlich</p>
            </div>

            <h4>Szenario 3: Low Confidence - Best√§tigung mit Alternativen</h4>
            <div class="warning-box">
                <p><strong>üë§ Kunde:</strong> "Ich m√∂chte Locken"</p>
                <p><strong>ü§ñ Agent:</strong> "Sie m√∂chten Locken - meinten Sie damit eine Dauerwelle?"</p>
                <p><strong>üë§ Kunde:</strong> "Nein, ich m√∂chte nur die Haare lockig f√∂hnen"</p>
                <p><strong>ü§ñ Agent:</strong> "Ah, verstehe! Dann w√§re das 'F√∂hnen & Styling Damen' das Richtige f√ºr Sie. Das dauert 30 Minuten und kostet 30 Euro. Passt das?"</p>
                <p><strong>üë§ Kunde:</strong> "Ja, perfekt!"</p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #d97706;"><strong>‚ö†Ô∏è Grund:</strong> Synonym "Locken" hat nur 70% Confidence ‚Üí Best√§tigung erforderlich + Alternative anbieten</p>
            </div>

            <h4>Szenario 4: Fuzzy Match - Immer Best√§tigung</h4>
            <div class="info-box">
                <p><strong>üë§ Kunde:</strong> "Ich m√∂chte einen Damenhaarschnit" <em>(Tippfehler in Speech-to-Text)</em></p>
                <p><strong>ü§ñ Agent:</strong> "Sie m√∂chten einen Damenhaarschnitt - habe ich das richtig verstanden?"</p>
                <p><strong>üë§ Kunde:</strong> "Ja"</p>
                <p><strong>ü§ñ Agent:</strong> "Gerne! Das dauert 45 Minuten und kostet 45 Euro. F√ºr wann m√∂chten Sie den Termin?"</p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #2563eb;"><strong>‚ÑπÔ∏è Grund:</strong> Fuzzy Match mit 87% √Ñhnlichkeit ‚Üí Immer best√§tigen bei Fuzzy Matches</p>
            </div>

            <h3>Implementation im Retell Conversation Flow</h3>

            <p>Im Retell Dashboard muss ein neuer Node "Service best√§tigen" hinzugef√ºgt werden:</p>

            <pre><code>{
  "id": "node_confirm_service",
  "name": "Service best√§tigen",
  "instruction": {
    "type": "prompt",
    "text": "Sage: 'Sie meinten {{extracted_service_name}}, meinten Sie damit {{matched_service_name}}?'"
  },
  "edges": [
    {
      "destination_node_id": "node_service_confirmed",
      "condition": {
        "type": "prompt",
        "prompt": "Customer confirmed (Ja, genau, richtig, stimmt, etc.)"
      }
    },
    {
      "destination_node_id": "node_service_clarify",
      "condition": {
        "type": "prompt",
        "prompt": "Customer denied (Nein, nicht ganz, etwas anderes, etc.)"
      }
    }
  ]
}</code></pre>

            <p><strong>Dynamische Variables:</strong></p>
            <ul style="margin-left: 20px;">
                <li><code>{{extracted_service_name}}</code> - Was der Kunde gesagt hat (z.B. "Str√§hnchen")</li>
                <li><code>{{matched_service_name}}</code> - Was das System gefunden hat (z.B. "Balayage/Ombr√©")</li>
                <li><code>{{confidence_score}}</code> - Matching Confidence (z.B. 0.75)</li>
            </ul>
        </section>

        <!-- SECTION 6: TESTING -->
        <section id="testing">
            <h2>6. Testing & Deployment</h2>

            <h3>Deployment-Checkliste</h3>

            <div class="info-box">
                <h4>üìã Schritt-f√ºr-Schritt Deployment</h4>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li><strong>‚úÖ ERLEDIGT:</strong> ServiceSynonym Model erstellt</li>
                    <li><strong>‚úÖ ERLEDIGT:</strong> Service Model mit synonyms() Relationship erweitert</li>
                    <li><strong>‚úÖ ERLEDIGT:</strong> SynonymsRelationManager f√ºr Filament UI erstellt</li>
                    <li><strong>‚úÖ ERLEDIGT:</strong> RelationManager in ServiceResource registriert</li>
                    <li><strong>‚è≥ TODO:</strong> Seeder ausf√ºhren (siehe unten)</li>
                    <li><strong>‚è≥ TODO:</strong> In Filament testen: Service bearbeiten ‚Üí Tab "Synonyme & Alternative Begriffe"</li>
                    <li><strong>‚è≥ TODO:</strong> Telefon-Test durchf√ºhren (siehe Testf√§lle)</li>
                    <li><strong>‚è≥ TODO:</strong> Conversation Flow Best√§tigung im Retell Dashboard hinzuf√ºgen</li>
                </ol>
            </div>

            <h3>Seeder ausf√ºhren</h3>

            <div class="warning-box">
                <p><strong>‚ö†Ô∏è WICHTIG: Production Environment</strong></p>
                <p>Der Seeder muss mit <code>--force</code> Flag ausgef√ºhrt werden:</p>
                <pre><code>php artisan db:seed --class=Friseur1ServiceSynonymsSeeder --force</code></pre>
                <p style="margin-top: 10px;"><strong>Erwartetes Ergebnis:</strong> ~150 Synonyme werden in die Datenbank eingef√ºgt.</p>
            </div>

            <h3>Test-F√§lle</h3>

            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Kunde sagt</th>
                        <th>Erwartetes Ergebnis</th>
                        <th>Best√§tigung?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>"Herrenschnitt"</td>
                        <td>‚úÖ Herrenhaarschnitt (95%)</td>
                        <td>‚ùå Nein</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>"Str√§hnchen"</td>
                        <td>‚úÖ Balayage/Ombr√© (75%)</td>
                        <td>‚úÖ Ja</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>"Locken"</td>
                        <td>‚úÖ Dauerwelle (70%)</td>
                        <td>‚úÖ Ja</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>"Blondierung"</td>
                        <td>‚úÖ Komplette Umf√§rbung (Blondierung) (95%)</td>
                        <td>‚ùå Nein</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>"Kinderschnitt"</td>
                        <td>‚úÖ Kinderhaarschnitt (95%)</td>
                        <td>‚ùå Nein</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>"Herrenhaarschnit" (Typo)</td>
                        <td>‚úÖ Herrenhaarschnitt (87% Fuzzy)</td>
                        <td>‚úÖ Ja (Fuzzy)</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>"Olaplex"</td>
                        <td>‚úÖ Rebuild Treatment Olaplex (95%)</td>
                        <td>‚ùå Nein</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>"Highlights"</td>
                        <td>‚úÖ Balayage/Ombr√© (80%)</td>
                        <td>‚ùå Nein</td>
                    </tr>
                </tbody>
            </table>

            <h3>Testing im Retell Dashboard</h3>

            <div class="info-box">
                <h4>üì± Test-Anleitung</h4>
                <ol style="margin-left: 20px; line-height: 1.8;">
                    <li>Gehe zu: <a href="https://app.retellai.com/" target="_blank">https://app.retellai.com/</a></li>
                    <li>√ñffne Agent: "Friseur1 Fixed V2"</li>
                    <li>Klicke auf "Test Chat"</li>
                    <li>Teste einen der Testf√§lle von oben</li>
                    <li>Pr√ºfe, ob Service korrekt erkannt wird</li>
                    <li>Pr√ºfe, ob Best√§tigung wie erwartet funktioniert</li>
                    <li>Pr√ºfe Logs: <code>tail -f storage/logs/laravel.log</code></li>
                </ol>
            </div>

            <h3>Bekannte Probleme & Fixes</h3>

            <h4>Problem 1: "Call context not available" in Test Mode ‚úÖ GEFIXT</h4>
            <div class="success-box">
                <p><strong>Status:</strong> ‚úÖ DEPLOYED 2025-11-05</p>
                <p><strong>Fix:</strong> Test Mode Fallback verwendet automatisch company_id=1 wenn Call Context nicht verf√ºgbar</p>
                <p><strong>Betrifft:</strong> Alle Function Calls (check_availability, book_appointment, etc.)</p>
            </div>

            <h4>Problem 2: Agent sagt "erfolgreich gebucht" obwohl Fehler ‚ùå NICHT GEFIXT</h4>
            <div class="warning-box">
                <p><strong>Status:</strong> ‚è≥ TODO - Conversation Flow muss angepasst werden</p>
                <p><strong>Grund:</strong> Keine Fehlerbehandlung im Conversation Flow</p>
                <p><strong>L√∂sung:</strong> Zwei Ausg√§nge f√ºr "Termin buchen" Node:</p>
                <ul style="margin-left: 20px; margin-top: 5px;">
                    <li>Edge 1: <code>success == true</code> ‚Üí "Buchung erfolgreich"</li>
                    <li>Edge 2: <code>success == false</code> ‚Üí "Buchung fehlgeschlagen"</li>
                </ul>
            </div>

            <h4>Problem 3: "Verf√ºgbare Termine von heute" funktioniert nicht ‚è≥ IN ANALYSE</h4>
            <div class="info-box">
                <p><strong>Status:</strong> ‚è≥ Weitere Informationen vom Benutzer erforderlich</p>
                <p><strong>Ben√∂tigt:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Welcher Service wurde getestet?</li>
                    <li>Was hat der Agent geantwortet?</li>
                    <li>Zu welcher Uhrzeit wurde der Test durchgef√ºhrt?</li>
                    <li>Logs pr√ºfen: <code>tail -100 storage/logs/laravel.log | grep check_availability</code></li>
                </ul>
            </div>

            <h3>Filament UI Testing</h3>

            <p>Nach Deployment des Seeder kannst du die Synonyme in der Filament Admin-Oberfl√§che verwalten:</p>

            <ol style="margin-left: 20px; line-height: 1.8;">
                <li>Gehe zu: Services ‚Üí Liste</li>
                <li>Klicke auf einen Service (z.B. "Herrenhaarschnitt")</li>
                <li>Wechsle zum Tab: <strong>"Synonyme & Alternative Begriffe"</strong></li>
                <li>Du siehst alle 10 Synonyme mit Confidence-Scores</li>
                <li>Du kannst neue Synonyme hinzuf√ºgen, bearbeiten oder l√∂schen</li>
                <li>Filter nach Confidence Level: 95-100%, 85-94%, etc.</li>
                <li>Suche nach bestimmten Synonymen</li>
            </ol>
        </section>

        <footer>
            <p><strong>Friseur 1 - Service-Dokumentation</strong></p>
            <p>Erstellt: 2025-11-05 | Version 1.0</p>
            <p>System: AskPro AI Gateway | Laravel 11 + Filament 3 + Retell AI</p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>
