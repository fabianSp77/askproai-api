<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Desktop Retell MCP Instructions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #1a202c;
            background: linear-gradient(135deg, #6b46c1 0%, #ec4899 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #6b46c1 0%, #ec4899 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .copy-all-btn {
            background: white;
            color: #6b46c1;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            margin: 20px auto;
            display: block;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .copy-all-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .copy-all-btn.copied {
            background: #10b981;
            color: white;
        }
        
        .instructions-box {
            background: #f7fafc;
            border: 2px dashed #cbd5e0;
            border-radius: 15px;
            padding: 30px;
            margin: 30px;
            position: relative;
        }
        
        .instructions-content {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #2d3748;
        }
        
        .step-info {
            background: #edf2f7;
            border-radius: 10px;
            padding: 20px;
            margin: 30px;
        }
        
        .step-info h2 {
            color: #6b46c1;
            margin-bottom: 15px;
        }
        
        .step-info ol {
            margin-left: 20px;
            color: #4a5568;
        }
        
        .step-info li {
            margin: 10px 0;
        }
        
        .success-message {
            display: none;
            background: #10b981;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 30px;
            font-weight: bold;
        }
        
        .success-message.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        code {
            background: #fef5e7;
            padding: 2px 6px;
            border-radius: 4px;
            color: #d35400;
            font-family: 'Monaco', 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                ü§ñ Claude Desktop + Retell MCP Instructions
            </h1>
            <p>Kopieren Sie diese Anleitung direkt in Claude Desktop</p>
            <button class="copy-all-btn" onclick="copyAllInstructions()">
                üìã ALLES KOPIEREN
            </button>
        </div>
        
        <div class="success-message" id="successMessage">
            ‚úÖ Erfolgreich kopiert! Jetzt in Claude Desktop einf√ºgen.
        </div>
        
        <div class="step-info">
            <h2>üìù So funktioniert's:</h2>
            <ol>
                <li>Klicken Sie auf <strong>"ALLES KOPIEREN"</strong> oben</li>
                <li>√ñffnen Sie <strong>Claude Desktop</strong></li>
                <li>F√ºgen Sie den Text ein (Cmd+V oder Ctrl+V)</li>
                <li>Claude wird automatisch Ihren Retell Agent aktualisieren</li>
            </ol>
        </div>
        
        <div class="instructions-box">
            <div class="instructions-content" id="instructionsContent"># ü§ñ Claude Desktop + Retell MCP - Agent Update Instructions

## Aufgabe f√ºr Claude Desktop:

Bitte nutze den Retell MCP um den Agent `agent_d7da9e5c49c4ccfff2526df5c1` zu aktualisieren. Hier sind die genauen √Ñnderungen:

### 1. Agent Prompt Update

Bitte aktualisiere den `general_prompt` des Agents mit diesem Text:

```
Du bist der freundliche KI-Assistent f√ºr einen Friseursalon mit 3 Mitarbeiterinnen: Paula (ID:1), Claudia (ID:2) und Katrin (ID:3).

## Deine Hauptaufgaben:
1. Termine f√ºr Friseurdienstleistungen vereinbaren
2. Dienstleistungen und Preise erkl√§ren
3. Beratungstermine f√ºr spezielle Services vereinbaren

## Mitarbeiterauswahl:
Wenn der Kunde keinen speziellen Mitarbeiter w√ºnscht:
- Pr√ºfe die Verf√ºgbarkeit aller drei Mitarbeiterinnen
- Biete die n√§chsten verf√ºgbaren Termine an
- Erw√§hne bei wem der Termin w√§re

Wenn der Kunde einen bestimmten Mitarbeiter m√∂chte:
- Nutze nur die staff_id dieser Mitarbeiterin
- Paula = staff_id: 1
- Claudia = staff_id: 2  
- Katrin = staff_id: 3

## Dienstleistungen die Beratung ben√∂tigen:
Diese Services erfordern IMMER einen Beratungsr√ºckruf:
- Str√§hnen (alle Varianten)
- Blondierung
- Balayage
- Faceframe

F√ºr diese sage: "Das ist eine tolle Wahl! F√ºr [Service] ist eine pers√∂nliche Beratung wichtig. Ich vereinbare gerne einen R√ºckruf f√ºr Sie."

## Gespr√§chsablauf:
1. Begr√º√üe freundlich und frage nach dem Wunsch
2. Bei Beratungsservices ‚Üí schedule_callback nutzen
3. Bei normalen Services ‚Üí check_availability ‚Üí book_appointment
4. Best√§tige alle Termine mit allen Details
5. Verabschiede dich freundlich

## Wichtige Hinweise:
- Nutze IMMER die MCP Funktionen f√ºr alle Aktionen
- Best√§tige IMMER Name und Telefonnummer
- Bei Unsicherheiten h√∂flich nachfragen
- Sprich nat√ºrlich und freundlich auf Deutsch

## Beispiel-Dialoge:
Kunde: "Ich h√§tte gerne Str√§hnen"
Du: "Wunderbar! Str√§hnen sind eine tolle Wahl. Da brauchen wir eine pers√∂nliche Beratung, um das perfekte Ergebnis f√ºr Sie zu planen. Darf ich Ihnen einen R√ºckruf vereinbaren? Wann w√ºrde es Ihnen passen?"

Kunde: "Ich m√∂chte einen Haarschnitt bei Paula"
Du: "Sehr gerne! Ich schaue nach freien Terminen bei Paula f√ºr einen Haarschnitt. [check_availability mit staff_id:1]"
```

### 2. Agent Settings Update

Bitte aktualisiere auch diese Einstellungen:
- `agent_name`: "Hair Salon Assistant - 3 Mitarbeiterinnen"
- `language`: "de"
- `voice_id`: "11labs-Hanna" (oder eine andere deutsche Stimme)
- `webhook_url`: "https://api.askproai.de/api/v2/hair-salon-mcp/retell-webhook"
- `responsiveness`: 1
- `interruption_sensitivity`: 1
- `enable_backchannel`: true
- `backchannel_frequency`: 0.8
- `backchannel_words`: ["ja", "genau", "verstehe", "okay", "mhm"]

### 3. Custom Functions hinzuf√ºgen

F√ºge diese 4 Custom Functions zum Agent hinzu:

#### Function 1: list_services
```json
{
  "name": "list_services",
  "description": "List all available hair salon services with prices",
  "url": "https://api.askproai.de/api/v2/hair-salon-mcp/mcp",
  "method": "POST",
  "headers": {
    "Content-Type": "application/json",
    "X-Company-ID": "1"
  },
  "body": {
    "jsonrpc": "2.0",
    "method": "list_services",
    "params": {
      "company_id": 1
    },
    "id": "list-{{timestamp}}"
  },
  "parameters": {
    "type": "object",
    "properties": {
      "category": {
        "type": "string",
        "description": "Optional service category filter"
      }
    }
  }
}
```

#### Function 2: check_availability
```json
{
  "name": "check_availability",
  "description": "Check available appointment slots for a service",
  "url": "https://api.askproai.de/api/v2/hair-salon-mcp/mcp",
  "method": "POST",
  "headers": {
    "Content-Type": "application/json",
    "X-Company-ID": "1"
  },
  "body": {
    "jsonrpc": "2.0",
    "method": "check_availability",
    "params": {
      "company_id": 1,
      "service_id": "{{service_id}}",
      "staff_id": "{{staff_id}}",
      "date": "{{date}}",
      "days_ahead": "{{days_ahead}}"
    },
    "id": "avail-{{timestamp}}"
  },
  "parameters": {
    "type": "object",
    "required": ["service_id"],
    "properties": {
      "service_id": {
        "type": "integer",
        "description": "ID of the service"
      },
      "staff_id": {
        "type": "integer",
        "description": "Staff member ID (1=Paula, 2=Claudia, 3=Katrin)"
      },
      "date": {
        "type": "string",
        "description": "Start date (YYYY-MM-DD)"
      },
      "days_ahead": {
        "type": "integer",
        "description": "Number of days to check ahead"
      }
    }
  }
}
```

#### Function 3: book_appointment
```json
{
  "name": "book_appointment",
  "description": "Book an appointment for a customer",
  "url": "https://api.askproai.de/api/v2/hair-salon-mcp/mcp",
  "method": "POST",
  "headers": {
    "Content-Type": "application/json",
    "X-Company-ID": "1"
  },
  "body": {
    "jsonrpc": "2.0",
    "method": "book_appointment",
    "params": {
      "company_id": 1,
      "customer_name": "{{customer_name}}",
      "customer_phone": "{{customer_phone}}",
      "service_id": "{{service_id}}",
      "staff_id": "{{staff_id}}",
      "datetime": "{{datetime}}",
      "notes": "{{notes}}"
    },
    "id": "book-{{timestamp}}"
  },
  "parameters": {
    "type": "object",
    "required": ["customer_name", "customer_phone", "service_id", "staff_id", "datetime"],
    "properties": {
      "customer_name": {
        "type": "string",
        "description": "Customer full name"
      },
      "customer_phone": {
        "type": "string",
        "description": "Customer phone number"
      },
      "service_id": {
        "type": "integer",
        "description": "ID of the service"
      },
      "staff_id": {
        "type": "integer",
        "description": "Staff member ID"
      },
      "datetime": {
        "type": "string",
        "description": "Appointment date and time (YYYY-MM-DD HH:MM)"
      },
      "notes": {
        "type": "string",
        "description": "Optional notes"
      }
    }
  }
}
```

#### Function 4: schedule_callback
```json
{
  "name": "schedule_callback",
  "description": "Schedule a callback for consultation services",
  "url": "https://api.askproai.de/api/v2/hair-salon-mcp/mcp",
  "method": "POST",
  "headers": {
    "Content-Type": "application/json",
    "X-Company-ID": "1"
  },
  "body": {
    "jsonrpc": "2.0",
    "method": "schedule_callback",
    "params": {
      "company_id": 1,
      "customer_name": "{{customer_name}}",
      "customer_phone": "{{customer_phone}}",
      "service_name": "{{service_name}}",
      "preferred_time": "{{preferred_time}}",
      "notes": "{{notes}}"
    },
    "id": "callback-{{timestamp}}"
  },
  "parameters": {
    "type": "object",
    "required": ["customer_name", "customer_phone", "service_name"],
    "properties": {
      "customer_name": {
        "type": "string",
        "description": "Customer full name"
      },
      "customer_phone": {
        "type": "string",
        "description": "Customer phone number"
      },
      "service_name": {
        "type": "string",
        "description": "Service requiring consultation"
      },
      "preferred_time": {
        "type": "string",
        "description": "Preferred callback time"
      },
      "notes": {
        "type": "string",
        "description": "Additional notes"
      }
    }
  }
}
```

### 4. MCP Configuration (@MCP Section)

F√ºge diese MCP Konfiguration hinzu:
- **Name**: `hair_salon_mcp`
- **URL**: `https://api.askproai.de/api/v2/hair-salon-mcp/mcp`
- **Description**: Hair Salon booking system with appointment management
- **Timeout**: `30000`
- **Headers**: 
  ```json
  {
    "Content-Type": "application/json",
    "Accept": "application/json",
    "X-Company-ID": "1"
  }
  ```
- **Query Parameters**:
  - `company_id`: `1`
  - `version`: `2.0`
  - `locale`: `de-DE`

---

## Bitte f√ºhre diese Updates durch und best√§tige mir wenn alles erfolgreich aktualisiert wurde!

Agent ID: `agent_d7da9e5c49c4ccfff2526df5c1`
Dashboard Link: https://dashboard.retellai.com/agents/agent_d7da9e5c49c4ccfff2526df5c1</div>
        </div>
        
        <div class="step-info">
            <h2>‚úÖ Nach dem Update:</h2>
            <ol>
                <li>√úberpr√ºfen Sie im Retell Dashboard ob die √Ñnderungen √ºbernommen wurden</li>
                <li>Testen Sie mit einem Anruf an: <code>+493033081738</code></li>
                <li>Sagen Sie: "Ich m√∂chte einen Haarschnitt bei Paula"</li>
            </ol>
        </div>
    </div>
    
    <script>
        function copyAllInstructions() {
            const content = document.getElementById('instructionsContent').innerText;
            
            navigator.clipboard.writeText(content).then(function() {
                const btn = document.querySelector('.copy-all-btn');
                const originalText = btn.innerHTML;
                btn.innerHTML = '‚úÖ KOPIERT!';
                btn.classList.add('copied');
                
                const successMsg = document.getElementById('successMessage');
                successMsg.classList.add('show');
                
                setTimeout(function() {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                    successMsg.classList.remove('show');
                }, 3000);
            }).catch(function(err) {
                alert('Fehler beim Kopieren. Bitte manuell markieren und kopieren.');
                console.error('Copy failed:', err);
            });
        }
    </script>
</body>
</html>