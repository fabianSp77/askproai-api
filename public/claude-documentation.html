<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLAUDE.md - AskProAI Dokumentation</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
            color: #334155;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }
        .header p {
            margin: 10px 0 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 40px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }
        .section-header {
            background: #f9fafb;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
        }
        .section-title {
            margin: 0;
            color: #1f2937;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
        }
        .section-content {
            padding: 20px;
        }
        .emoji {
            margin-right: 10px;
            font-size: 1.5em;
        }
        .quick-jump {
            background: #dbeafe;
            border: 1px solid #3b82f6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .quick-jump h3 {
            margin: 0 0 15px;
            color: #1e40af;
        }
        .quick-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        .quick-link {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            text-decoration: none;
            color: #1e40af;
            font-weight: 500;
            display: block;
            transition: all 0.2s;
        }
        .quick-link:hover {
            background: #f0f9ff;
            transform: translateY(-1px);
        }
        .code-block {
            background: #1f2937;
            color: #f3f4f6;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 15px 0;
        }
        .docs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .doc-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .doc-card:hover {
            border-color: #3b82f6;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }
        .doc-icon {
            font-size: 2.5rem;
            margin-right: 20px;
            min-width: 60px;
            text-align: center;
        }
        .doc-info h4 {
            margin: 0 0 8px;
            color: #1f2937;
            font-size: 1.2rem;
        }
        .doc-info p {
            margin: 0;
            color: #6b7280;
            font-size: 0.95rem;
        }
        .warning {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .warning h4 {
            margin: 0 0 10px;
            color: #92400e;
        }
        .file-list {
            background: #f1f5f9;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .file-item {
            color: #059669;
            font-family: monospace;
            margin: 5px 0;
        }
        .yaml-block {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            margin: 15px 0;
        }
        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .link-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s;
        }
        .link-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .link-card h4 {
            margin: 0 0 10px;
            color: #1f2937;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö CLAUDE.md Documentation</h1>
            <p>AskProAI - AI Phone Assistant + Appointment Booking System</p>
        </div>
        
        <div class="content">
            <!-- Quick Jump Section -->
            <div class="quick-jump">
                <h3>üéØ Quick Jump</h3>
                <div class="quick-links">
                    <a href="#commands" class="quick-link">Commands</a>
                    <a href="#current-focus" class="quick-link">Current Focus</a>
                    <a href="#architecture" class="quick-link">Architecture</a>
                    <a href="#troubleshooting" class="quick-link">Troubleshooting</a>
                    <a href="#documentation" class="quick-link">Documentation</a>
                </div>
            </div>

            <!-- Current Focus Section -->
            <div class="section" id="current-focus">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="emoji">üéØ</span>
                        Current Focus
                    </h2>
                </div>
                <div class="section-content">
                    <div class="warning">
                        <h4>‚úÖ Navigation Fixed!</h4>
                        <p>Admin panel navigation was completely fixed on 2025-08-14. All navigation items are now visible and clickable.</p>
                    </div>

                    <h3>Quick Context</h3>
                    <div class="yaml-block">
Project: AskProAI - AI Phone Assistant + Appointment Booking<br>
Stack: Laravel 10 + Filament 3 + Retell.ai + Cal.com<br>
Environment: Production (https://api.askproai.de)<br>
Working Dir: /var/www/api-gateway
                    </div>
                </div>
            </div>

            <!-- Commands Section -->
            <div class="section" id="commands">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="emoji">üîß</span>
                        Essential Commands
                    </h2>
                </div>
                <div class="section-content">
                    <h3>Daily Commands</h3>
                    <div class="code-block">
# Database Access
mysql -u askproai_user -p'lkZ57Dju9EDjrMxn' askproai_db

# Cache & Build
php artisan optimize:clear
npm run build
php artisan filament:clear-cached-components

# Queue & Monitoring
php artisan horizon
php artisan horizon:status
tail -f storage/logs/laravel.log

# Testing
php artisan test
php artisan test --filter=FeatureName</div>

                    <h3>MCP & Subagents</h3>
                    <div class="file-list">
                        <strong>Available MCPs:</strong>
                        <div class="file-item">CalcomMCP - Calendar integration</div>
                        <div class="file-item">RetellMCP - AI phone service</div>
                        <div class="file-item">DatabaseMCP - Safe DB operations</div>
                        <div class="file-item">Context7 (mcp__context7__*) - Library docs</div>
                        <div class="file-item">Puppeteer MCP - Browser automation</div>
                        <div class="file-item">Playwright MCP - Structural web automation</div>
                    </div>

                    <div class="file-list">
                        <strong>Key Subagents:</strong>
                        <div class="file-item">ui-auditor - UI/UX analysis</div>
                        <div class="file-item">performance-profiler - Performance issues</div>
                        <div class="file-item">rapid-prototyper - Quick MVPs</div>
                        <div class="file-item">test-writer-fixer - Auto test fixes</div>
                        <div class="file-item">frontend-developer - React/Vue/Angular</div>
                        <div class="file-item">backend-architect - APIs & databases</div>
                    </div>
                </div>
            </div>

            <!-- Architecture Section -->
            <div class="section" id="architecture">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="emoji">üèóÔ∏è</span>
                        Core Architecture
                    </h2>
                </div>
                <div class="section-content">
                    <div class="code-block">
Company (Tenant)
‚îú‚îÄ‚îÄ Branches (Locations)
‚îú‚îÄ‚îÄ Staff (Employees)
‚îú‚îÄ‚îÄ Services (Offerings)
‚îú‚îÄ‚îÄ Customers
‚îî‚îÄ‚îÄ Appointments</div>

                    <h3>Key Services</h3>
                    <ul>
                        <li><strong>RetellV2Service</strong> - AI phone integration</li>
                        <li><strong>CalcomV2Service</strong> - Calendar API</li>
                        <li><strong>AppointmentService</strong> - Booking logic</li>
                        <li><strong>CustomerService</strong> - Customer management</li>
                    </ul>

                    <h3>Integration Flow</h3>
                    <div class="yaml-block">
1. Call ‚Üí Retell.ai answers<br>
2. AI extracts appointment details<br>
3. Webhook ‚Üí /api/retell/webhook-simple<br>
4. Create/update customer<br>
5. Book in Cal.com<br>
6. Confirm to caller
                    </div>
                </div>
            </div>

            <!-- Troubleshooting Section -->
            <div class="section" id="troubleshooting">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="emoji">üö®</span>
                        Troubleshooting
                    </h2>
                </div>
                <div class="section-content">
                    <h3>Common Issues</h3>
                    
                    <h4>Retell.ai Issues</h4>
                    <div class="code-block">
# Check webhook processing
tail -f storage/logs/laravel.log | grep -i retell

# Manual import
php manual-retell-import.php

# Test webhook
php test-retell-real-data.php</div>

                    <h4>Database Issues</h4>
                    <div class="code-block">
# Clear config cache
rm -f bootstrap/cache/config.php
php artisan config:cache

# Check connections
php artisan db:show</div>
                </div>
            </div>

            <!-- Documentation Files -->
            <div class="section" id="documentation">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="emoji">üìö</span>
                        Verf√ºgbare Dokumentation
                    </h2>
                </div>
                <div class="section-content">
                    <p>Existierende Dokumentationsdateien als interaktive HTML-Seiten:</p>
                    
                    <div class="docs-grid">
                        <a href="calcom_integration.html" class="doc-card">
                            <div class="doc-icon">üìÖ</div>
                            <div class="doc-info">
                                <h4>Cal.com Integration</h4>
                                <p>Kalender-API Konfiguration und Endpunkte</p>
                            </div>
                        </a>
                        
                        <a href="anleitung-ki-telefonassistent.html" class="doc-card">
                            <div class="doc-icon">üìû</div>
                            <div class="doc-info">
                                <h4>KI-Telefonassistent Anleitung</h4>
                                <p>Nutzungsanleitung f√ºr Endkunden</p>
                            </div>
                        </a>
                        
                        <a href="faq-endkunden.html" class="doc-card">
                            <div class="doc-icon">‚ùì</div>
                            <div class="doc-info">
                                <h4>Endkunden FAQ</h4>
                                <p>H√§ufig gestellte Fragen und Antworten</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- MCP Integration Guides -->
            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="emoji">ü§ñ</span>
                        MCP Integration Guides
                    </h2>
                </div>
                <div class="section-content">
                    <p>Detaillierte Subagent-Integration Anleitungen:</p>
                    
                    <div class="link-grid">
                        <a href="PUPPETEER_SUBAGENT_CONFIG.html" class="link-card">
                            <h4>üé≠ Puppeteer MCP</h4>
                            <p>Browser-Automation f√ºr visuelle Tests und Screenshots</p>
                        </a>
                        
                        <a href="PLAYWRIGHT_MCP_SUBAGENT_GUIDE.html" class="link-card">
                            <h4>üé™ Playwright MCP</h4>
                            <p>Strukturelle Web-Automation f√ºr UI-Auditing</p>
                        </a>
                        
                        <a href="NAVIGATION_FIX_COMPLETE_2025-08-14.html" class="link-card">
                            <h4>‚úÖ Navigation Fix</h4>
                            <p>Vollst√§ndige Dokumentation der Navigations-Reparatur</p>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280;">
                <p><strong>Production URL:</strong> <a href="https://api.askproai.de/admin" target="_blank">https://api.askproai.de/admin</a></p>
                <p><strong>Login:</strong> admin@askproai.de / password</p>
                <p>üìÅ Original Datei: <code>CLAUDE.md</code></p>
                <p>üåê Live: <a href="https://api.askproai.de/claude-documentation.html">https://api.askproai.de/claude-documentation.html</a></p>
            </div>
        </div>
    </div>
</body>
</html>