<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retell Custom Functions - Aktualisierte Anleitung V2</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            background-color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
        }
        h3 {
            color: #3498db;
            margin-top: 20px;
        }
        .step {
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .warning {
            background-color: #fee;
            border-left: 4px solid #e74c3c;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .success {
            background-color: #e8f8e8;
            border-left: 4px solid #27ae60;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .info {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
        }
        pre {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .json-code {
            background-color: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 14px;
        }
        .button {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 0;
        }
        .button:hover {
            background-color: #2980b9;
        }
        .checklist {
            list-style-type: none;
            padding-left: 0;
        }
        .checklist li {
            padding: 5px 0;
            padding-left: 30px;
            position: relative;
        }
        .checklist li:before {
            content: "‚òê";
            position: absolute;
            left: 0;
            color: #3498db;
            font-size: 20px;
        }
        .checklist li.done:before {
            content: "‚úÖ";
        }
        .checklist li.error:before {
            content: "‚ùå";
        }
        .highlight {
            background-color: yellow;
            padding: 2px 4px;
            font-weight: bold;
        }
        .status-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .status-table th, .status-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .status-table th {
            background-color: #3498db;
            color: white;
        }
        .status-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ Retell Custom Functions - Aktualisierte Anleitung V2</h1>
        
        <div class="info">
            <strong>üìä Status deiner bisherigen √Ñnderungen:</strong>
            <table class="status-table">
                <tr>
                    <th>Schritt</th>
                    <th>Status</th>
                    <th>Bemerkung</th>
                </tr>
                <tr>
                    <td>Schritt 1: Prompt Update</td>
                    <td>‚úÖ Korrekt</td>
                    <td>Anweisungen sind vorhanden</td>
                </tr>
                <tr>
                    <td>Schritt 2: check_customer</td>
                    <td>‚úÖ Korrekt</td>
                    <td>Nur call_id Parameter</td>
                </tr>
                <tr>
                    <td>Schritt 3: collect_appointment_data</td>
                    <td>‚úÖ Korrekt</td>
                    <td>call_id als erster Parameter, keine Telefonnummer</td>
                </tr>
                <tr>
                    <td>Schritt 4: cancel_appointment</td>
                    <td>‚úÖ Korrekt</td>
                    <td>Hat call_id, keine phone_number</td>
                </tr>
                <tr>
                    <td>Schritt 5: reschedule_appointment</td>
                    <td>‚ùå Fehlt</td>
                    <td>Hat noch phone_number, braucht call_id</td>
                </tr>
                <tr>
                    <td>Schritt 6: book_appointment</td>
                    <td>‚ö†Ô∏è Unklar</td>
                    <td>Hat noch phone_number, evtl. nicht mehr ben√∂tigt</td>
                </tr>
            </table>
        </div>

        <div class="success">
            <h3>‚úÖ Was du bereits richtig gemacht hast:</h3>
            <ul>
                <li>Prompt enth√§lt die korrekten Anweisungen</li>
                <li>check_customer ist korrekt konfiguriert</li>
                <li>collect_appointment_data ist korrekt konfiguriert</li>
                <li>cancel_appointment ist korrekt konfiguriert</li>
            </ul>
        </div>

        <div class="warning">
            <h3>‚ùå Was noch zu tun ist:</h3>
            <ul>
                <li><strong>reschedule_appointment</strong> muss noch angepasst werden</li>
                <li><strong>book_appointment</strong> hat noch phone_number (falls diese Function noch verwendet wird)</li>
            </ul>
        </div>

        <hr>

        <h2>üìã Noch zu erledigende Schritte</h2>

        <h2>üîß SCHRITT 1: Function "reschedule_appointment" KORRIGIEREN</h2>
        <div class="warning">
            <strong>‚ö†Ô∏è Diese Function hat noch "phone_number" und muss dringend angepasst werden!</strong>
        </div>
        <div class="step">
            <h3>1. Finde und klicke auf "reschedule_appointment" zum Bearbeiten</h3>
            
            <h3>2. √Ñndere die Description zu:</h3>
            <pre>Einen bestehenden Termin verschieben. Die Telefonnummer wird automatisch √ºber die call_id ermittelt.</pre>
            
            <h3>3. ERSETZE die kompletten Parameters mit:</h3>
            <pre class="json-code">{
  "type": "object",
  "properties": {
    "call_id": {
      "type": "string",
      "description": "Die Call ID - IMMER {{call_id}} verwenden"
    },
    "old_date": {
      "type": "string",
      "description": "Aktuelles Datum des bestehenden Termins"
    },
    "new_date": {
      "type": "string",
      "description": "Neues gew√ºnschtes Datum f√ºr den Termin"
    },
    "new_time": {
      "type": "string",
      "description": "Neue gew√ºnschte Uhrzeit f√ºr den Termin"
    }
  },
  "required": ["call_id", "old_date", "new_date", "new_time"]
}</pre>
            
            <div class="warning">
                <strong>‚ùó WICHTIG: Stelle sicher, dass "phone_number" KOMPLETT entfernt wurde!</strong>
            </div>
            
            <h3>4. Speichere diese Function</h3>
        </div>

        <hr>

        <h2>üìã SCHRITT 2: Function "book_appointment" PR√úFEN (falls vorhanden)</h2>
        <div class="info">
            <strong>‚ÑπÔ∏è Diese Function ist m√∂glicherweise redundant, da "collect_appointment_data" bereits die Buchung √ºbernimmt.</strong>
        </div>
        <div class="step">
            <h3>Option A: Function l√∂schen (empfohlen)</h3>
            <p>Wenn "book_appointment" nicht mehr ben√∂tigt wird, l√∂sche sie komplett.</p>
            
            <h3>Option B: Function anpassen (falls noch ben√∂tigt)</h3>
            <p>Falls die Function noch ben√∂tigt wird, √§ndere die Parameters zu:</p>
            <pre class="json-code">{
  "type": "object",
  "properties": {
    "call_id": {
      "type": "string",
      "description": "Die Call ID - IMMER {{call_id}} verwenden"
    },
    "customer_name": {
      "type": "string",
      "description": "Name des Kunden"
    },
    "appointment_date": {
      "type": "string",
      "description": "Datum des Termins"
    },
    "appointment_time": {
      "type": "string",
      "description": "Uhrzeit des Termins"
    },
    "service_type": {
      "type": "string",
      "description": "Art der Dienstleistung"
    }
  },
  "required": ["call_id", "customer_name", "appointment_date", "appointment_time", "service_type"]
}</pre>
            
            <div class="warning">
                <strong>‚ùó WICHTIG: "phone_number" muss KOMPLETT entfernt werden!</strong>
            </div>
        </div>

        <hr>

        <h2>‚úÖ SCHRITT 3: Finale √úberpr√ºfung</h2>
        <div class="success">
            <h3>Checkliste - stelle sicher dass:</h3>
            <ul class="checklist">
                <li class="done">Prompt enth√§lt "NIEMALS nach der Telefonnummer fragen"</li>
                <li class="done">check_customer hat nur call_id Parameter</li>
                <li class="done">collect_appointment_data hat call_id als ersten Parameter</li>
                <li class="done">cancel_appointment hat call_id Parameter</li>
                <li class="error">reschedule_appointment hat call_id statt phone_number</li>
                <li>KEINE Function hat mehr "telefonnummer" oder "phone_number"</li>
                <li>Alle √Ñnderungen sind gespeichert</li>
            </ul>
        </div>

        <hr>

        <h2>üéØ Zusammenfassung</h2>
        <div class="info">
            <h3>Du hast bereits sehr gut gearbeitet! üëè</h3>
            <p>Die wichtigsten Functions sind bereits korrekt konfiguriert. Es fehlt nur noch:</p>
            <ol>
                <li><strong>reschedule_appointment</strong> - Muss von phone_number auf call_id umgestellt werden</li>
                <li><strong>book_appointment</strong> - Entweder l√∂schen oder ebenfalls auf call_id umstellen</li>
            </ol>
        </div>

        <div class="success" style="margin-top: 30px; text-align: center;">
            <h3>üéâ Nach diesen letzten √Ñnderungen ist alles korrekt konfiguriert!</h3>
            <p>Sage mir Bescheid, wenn du fertig bist!</p>
        </div>
    </div>
</body>
</html>