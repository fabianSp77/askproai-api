/* 
 * Modern Call Management Interface
 * Stress-Reducing Design for Support Agents | German Market Excellence
 * 
 * Features:
 * 1. Priority Queue with Visual Hierarchy
 * 2. Micro-interactions for Delight
 * 3. Smart Status Indicators
 * 4. Inline Note-taking Interface
 * 5. Customer Journey Timeline
 * 6. Mobile-optimized Touch Targets
 */

@layer components {
    /* === 1. SMART PRIORITY QUEUE === */
    .call-priority-urgent {
        @apply relative;
        background: linear-gradient(135deg, #fef3c7 0%, #fbbf24 100%);
        border-left: 4px solid #f59e0b;
        animation: urgentPulse 2s infinite;
    }
    
    .call-priority-high {
        @apply bg-gradient-to-r from-orange-50 to-orange-100;
        border-left: 3px solid #fb923c;
    }
    
    .call-priority-normal {
        @apply bg-gradient-to-r from-blue-50 to-blue-100;
        border-left: 2px solid #60a5fa;
    }
    
    .call-priority-low {
        @apply bg-gradient-to-r from-gray-50 to-gray-100;
        border-left: 1px solid #d1d5db;
    }
    
    @keyframes urgentPulse {
        0%, 100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4); }
        50% { box-shadow: 0 0 0 8px rgba(245, 158, 11, 0); }
    }

    /* 2. Modern Audio Player */
    .modern-audio-player {
        @apply rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 p-2;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .modern-audio-player:hover {
        @apply from-gray-100 to-gray-50;
        transform: scale(1.01);
        transition: all 0.2s ease;
    }

    /* 3. Transcript Styling with Hover Effects */
    .modern-transcript > div {
        transition: all 0.2s ease;
    }
    
    .modern-transcript > div:hover {
        transform: translateX(4px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    /* 4. Glass Morphism Cards */
    .glass-card {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 1rem;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
    }
    
    .glass-card:hover {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 12px 48px rgba(0, 0, 0, 0.12);
        transform: translateY(-2px);
        transition: all 0.3s ease;
    }

    /* 5. Status Badge Animations */
    .badge-success {
        @apply bg-green-100 text-green-800 border-green-200;
        animation: successPulse 2s infinite;
    }
    
    @keyframes successPulse {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.05); opacity: 0.9; }
    }

    /* 6. Touch Target Optimization */
    @media (pointer: coarse) {
        .fi-ta-actions .fi-btn,
        .fi-ta-actions button {
            min-width: 44px !important;
            min-height: 44px !important;
            @apply flex items-center justify-center;
        }
    }

    /* 7. Skeleton Loading States */
    .skeleton-loader {
        background: linear-gradient(
            90deg,
            #f0f0f0 25%,
            #e0e0e0 50%,
            #f0f0f0 75%
        );
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }

    /* 8. Celebration Animation */
    @keyframes celebrate {
        0% { transform: scale(1) rotate(0deg); }
        25% { transform: scale(1.1) rotate(5deg); }
        50% { transform: scale(1) rotate(-5deg); }
        75% { transform: scale(1.1) rotate(5deg); }
        100% { transform: scale(1) rotate(0deg); }
    }
    
    .celebrate {
        animation: celebrate 0.5s ease-in-out;
    }

    /* === 2. MODERN CALL CARDS === */
    .modern-call-card {
        @apply relative overflow-hidden rounded-2xl bg-white shadow-sm border border-gray-100;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.8) 100%);
        backdrop-filter: blur(20px);
    }
    
    /* Shimmer effect on hover */
    .modern-call-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(59, 130, 246, 0.1),
            transparent
        );
        transition: left 0.6s ease;
        z-index: 1;
    }
    
    .modern-call-card:hover::before {
        left: 100%;
    }
    
    .modern-call-card:hover {
        @apply shadow-2xl border-blue-200;
        transform: translateY(-4px) scale(1.02);
        background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%);
    }
    
    /* Call card status indicators */
    .call-card-new::after {
        content: 'NEU';
        @apply absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full;
        animation: newCallBounce 0.5s ease-out;
    }
    
    .call-card-follow-up::after {
        content: 'FOLLOW-UP';
        @apply absolute top-2 right-2 bg-amber-500 text-white text-xs px-2 py-1 rounded-full;
    }
    
    @keyframes newCallBounce {
        0% { transform: scale(0) rotate(180deg); opacity: 0; }
        50% { transform: scale(1.2) rotate(-10deg); opacity: 1; }
        100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }

    /* 10. Live Indicator */
    .live-indicator {
        @apply relative inline-flex h-3 w-3;
    }
    
    .live-indicator::before {
        content: '';
        @apply absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75;
        animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
    }
    
    .live-indicator::after {
        content: '';
        @apply relative inline-flex rounded-full h-3 w-3 bg-red-500;
    }

    /* 11. Smooth Transitions */
    .transition-smooth {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .transition-bounce {
        transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    /* 12. Hover Lift Effect */
    .hover-lift {
        @apply transition-all duration-300;
    }
    
    .hover-lift:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    /* 13. Gradient Text */
    .gradient-text {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* 14. Animated Bounce Once */
    @keyframes bounce-once {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    
    .animate-bounce-once {
        animation: bounce-once 0.5s ease-in-out;
    }

    /* 15. Professional Loading Dots */
    .loading-dots::after {
        content: '.';
        animation: dots 1.5s steps(3, end) infinite;
    }
    
    @keyframes dots {
        0%, 20% { content: '.'; }
        40% { content: '..'; }
        60%, 100% { content: '...'; }
    }

    /* === 3. SMART STATUS INDICATORS === */
    .status-live {
        @apply relative bg-red-100 text-red-800 border border-red-200;
        animation: livePulse 1.5s infinite;
    }
    
    .status-live::before {
        content: '';
        @apply absolute -top-1 -left-1 w-3 h-3 bg-red-500 rounded-full;
        animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
    }
    
    .status-completed {
        @apply bg-emerald-100 text-emerald-800 border border-emerald-200;
        position: relative;
    }
    
    .status-completed::after {
        content: 'âœ“';
        @apply absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 text-white text-xs rounded-full flex items-center justify-center;
        animation: successBounce 0.6s ease-out;
    }
    
    .status-missed {
        @apply bg-red-100 text-red-800 border border-red-200;
    }
    
    .status-follow-up {
        @apply bg-amber-100 text-amber-800 border border-amber-200;
        animation: followUpGlow 2s infinite;
    }
    
    @keyframes livePulse {
        0%, 100% { background-color: rgb(254 242 242); }
        50% { background-color: rgb(252 165 165); }
    }
    
    @keyframes successBounce {
        0% { transform: scale(0); }
        50% { transform: scale(1.2); }
        100% { transform: scale(1); }
    }
    
    @keyframes followUpGlow {
        0%, 100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4); }
        50% { box-shadow: 0 0 0 6px rgba(245, 158, 11, 0); }
    }

    /* 17. Progress Ring Animation */
    @keyframes progress-ring {
        0% { stroke-dashoffset: 126; }
        100% { stroke-dashoffset: 0; }
    }
    
    .progress-ring {
        stroke-dasharray: 126;
        stroke-dashoffset: 126;
        animation: progress-ring 1s ease-out forwards;
    }

    /* 18. Stagger Animation */
    .stagger-animation > * {
        opacity: 0;
        animation: fadeInUp 0.5s ease forwards;
    }
    
    .stagger-animation > *:nth-child(1) { animation-delay: 0.1s; }
    .stagger-animation > *:nth-child(2) { animation-delay: 0.2s; }
    .stagger-animation > *:nth-child(3) { animation-delay: 0.3s; }
    .stagger-animation > *:nth-child(4) { animation-delay: 0.4s; }
    
    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
        from {
            opacity: 0;
            transform: translateY(10px);
        }
    }

    /* 19. Interactive Button States */
    .btn-interactive {
        @apply relative overflow-hidden;
    }
    
    .btn-interactive::after {
        content: '';
        @apply absolute inset-0 bg-white opacity-0;
        transition: opacity 0.3s;
    }
    
    .btn-interactive:active::after {
        @apply opacity-20;
        animation: ripple 0.6s ease-out;
    }
    
    @keyframes ripple {
        from {
            transform: scale(0);
            opacity: 1;
        }
        to {
            transform: scale(4);
            opacity: 0;
        }
    }

    /* === 4. INLINE NOTE-TAKING INTERFACE === */
    .call-quick-notes {
        @apply bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border-2 border-dashed border-blue-200;
        transition: all 0.3s ease;
    }
    
    .call-quick-notes:hover {
        @apply border-blue-400 bg-gradient-to-r from-blue-100 to-indigo-100;
        transform: scale(1.02);
    }
    
    .note-input-modern {
        @apply w-full border-0 bg-transparent placeholder-blue-400 text-gray-800 resize-none;
        font-family: 'Inter', sans-serif;
    }
    
    .note-input-modern:focus {
        @apply outline-none;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
    }
    
    .note-save-btn {
        @apply bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg;
        transition: all 0.3s ease;
        transform: scale(0.95);
    }
    
    .note-save-btn:hover {
        @apply from-blue-600 to-blue-700 shadow-lg;
        transform: scale(1) translateY(-1px);
    }
    
    /* === 5. CUSTOMER JOURNEY TIMELINE === */
    .customer-timeline {
        @apply relative pl-6;
    }
    
    .customer-timeline::before {
        content: '';
        @apply absolute left-2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-500 to-blue-300;
    }
    
    .timeline-item {
        @apply relative mb-4 bg-white rounded-lg p-3 shadow-sm border border-gray-100;
        transition: all 0.3s ease;
    }
    
    .timeline-item::before {
        content: '';
        @apply absolute -left-4 top-4 w-3 h-3 bg-blue-500 rounded-full border-2 border-white;
        box-shadow: 0 0 0 2px #3b82f6;
    }
    
    .timeline-item:hover {
        @apply shadow-md border-blue-200;
        transform: translateX(4px);
    }
    
    .timeline-item-success::before {
        @apply bg-emerald-500;
        box-shadow: 0 0 0 2px #10b981;
    }
    
    .timeline-item-warning::before {
        @apply bg-amber-500;
        box-shadow: 0 0 0 2px #f59e0b;
    }
    
    /* === 6. STRESS-REDUCING VISUAL HIERARCHY === */
    .call-duration-excellent {
        @apply bg-emerald-100 text-emerald-800 border border-emerald-300;
        position: relative;
    }
    
    .call-duration-excellent::after {
        content: 'ðŸŽ¯';
        @apply absolute -top-2 -right-2;
        animation: celebrationSpin 1s ease-out;
    }
    
    .call-duration-good {
        @apply bg-blue-100 text-blue-800 border border-blue-300;
    }
    
    .call-duration-quick {
        @apply bg-amber-100 text-amber-800 border border-amber-300;
    }
    
    @keyframes celebrationSpin {
        0% { transform: rotate(0deg) scale(0); opacity: 0; }
        50% { transform: rotate(180deg) scale(1.2); opacity: 1; }
        100% { transform: rotate(360deg) scale(1); opacity: 1; }
    }
    
    /* === 7. MOBILE-OPTIMIZED TOUCH TARGETS === */
    @media (max-width: 768px) {
        .mobile-call-card {
            @apply p-4 rounded-xl bg-white shadow-sm border border-gray-200;
            min-height: 120px;
        }
        
        .mobile-action-bar {
            @apply flex justify-between items-center mt-3 gap-2;
        }
        
        .mobile-action-btn {
            @apply flex-1 min-h-[44px] flex items-center justify-center rounded-lg font-medium;
            transition: all 0.2s ease;
        }
        
        .mobile-action-btn:active {
            transform: scale(0.95);
        }
        
        .mobile-call-btn {
            @apply bg-emerald-500 text-white;
        }
        
        .mobile-note-btn {
            @apply bg-blue-500 text-white;
        }
        
        .mobile-view-btn {
            @apply bg-gray-500 text-white;
        }
    }
    
    /* === 8. MICRO-INTERACTIONS FOR DELIGHT === */
    .appointment-success-celebration {
        animation: appointmentSuccess 1s ease-out;
    }
    
    @keyframes appointmentSuccess {
        0% { transform: scale(1); }
        25% { transform: scale(1.1) rotate(2deg); }
        50% { transform: scale(0.95) rotate(-1deg); }
        75% { transform: scale(1.05) rotate(1deg); }
        100% { transform: scale(1) rotate(0deg); }
    }
    
    .phone-number-reveal {
        @apply cursor-pointer transition-all duration-300;
        filter: blur(2px);
    }
    
    .phone-number-reveal:hover,
    .phone-number-reveal:focus {
        filter: blur(0px);
        @apply text-blue-600 font-semibold;
    }
    
    .copy-success-feedback {
        animation: copySuccess 0.6s ease-out;
    }
    
    @keyframes copySuccess {
        0% { background-color: rgb(34 197 94); color: white; transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { background-color: transparent; color: inherit; transform: scale(1); }
    }
    
    /* === 9. GERMAN MARKET PROFESSIONAL STYLING === */
    .german-professional {
        font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        @apply text-gray-800;
    }
    
    .efficiency-badge {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        @apply text-white;
        animation: efficiencyGlow 3s infinite;
    }
    
    @keyframes efficiencyGlow {
        0%, 100% { box-shadow: 0 0 10px rgba(16, 185, 129, 0.3); }
        50% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.5); }
    }
    
    /* === 10. REDUCED MOTION SUPPORT === */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
        
        .modern-call-card:hover {
            transform: none !important;
        }
    }
}

/* === UTILITY CLASSES === */
@layer utilities {
    /* Stress-reducing colors */
    .text-calm-blue { color: #3b82f6; }
    .text-success-green { color: #10b981; }
    .text-warning-amber { color: #f59e0b; }
    .text-gentle-gray { color: #6b7280; }
    
    /* Agent empowerment gradients */
    .bg-empowerment-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .bg-success-gradient {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }
    
    .bg-calm-gradient {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    }
    
    /* Professional shadows */
    .shadow-professional {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .shadow-professional-lg {
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.05), 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    /* German efficiency indicators */
    .border-efficiency {
        border-left: 4px solid #10b981;
    }
    
    .border-attention {
        border-left: 4px solid #f59e0b;
    }
    
    .border-urgent {
        border-left: 4px solid #ef4444;
        position: relative;
    }
    
    .border-urgent::before {
        content: 'âš ';
        position: absolute;
        left: -12px;
        top: 50%;
        transform: translateY(-50%);
        background: #ef4444;
        color: white;
        border-radius: 50%;
        width: 16px;
        height: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        font-weight: bold;
        animation: urgent-flash 1s infinite;
    }
    
    @keyframes attention-pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }
    
    @keyframes urgent-flash {
        0%, 100% { opacity: 1; transform: translateY(-50%) scale(1); }
        50% { opacity: 0.8; transform: translateY(-50%) scale(1.1); }
    }
    
    /* Professional Achievement Badges */
    .achievement-badge {
        @apply inline-flex items-center px-2 py-1 text-xs font-medium rounded-full;
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        color: white;
        animation: badge-shine 3s infinite;
        position: relative;
        overflow: hidden;
    }
    
    .achievement-badge::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        animation: badge-sweep 2s infinite;
    }
    
    @keyframes badge-shine {
        0%, 100% { box-shadow: 0 0 10px rgba(99, 102, 241, 0.3); }
        50% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.5); }
    }
    
    @keyframes badge-sweep {
        0% { left: -100%; }
        100% { left: 100%; }
    }
}

/* === DELIGHTFUL EASTER EGGS === */
@layer components {
    .konami-activated {
        animation: rainbow-border 2s infinite;
        border-radius: 1rem;
    }
    
    @keyframes rainbow-border {
        0% { border-color: #ef4444; }
        16.66% { border-color: #f97316; }
        33.33% { border-color: #eab308; }
        50% { border-color: #22c55e; }
        66.66% { border-color: #06b6d4; }
        83.33% { border-color: #3b82f6; }
        100% { border-color: #8b5cf6; }
    }
    
    .power-user-mode {
        background: linear-gradient(45deg, rgba(139, 92, 246, 0.1), rgba(59, 130, 246, 0.1));
        border: 2px solid rgba(139, 92, 246, 0.3);
        position: relative;
    }
    
    .power-user-mode::after {
        content: 'ðŸ¦… Power User';
        position: absolute;
        top: -10px;
        right: 10px;
        background: linear-gradient(135deg, #8b5cf6, #3b82f6);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 0.5rem;
        font-size: 0.75rem;
        font-weight: 600;
        z-index: 10;
    }
    
    /* Coffee Break Mode */
    .coffee-break-mode {
        filter: sepia(0.3) saturate(0.8);
        transition: filter 0.3s ease;
    }
    
    .coffee-break-mode::before {
        content: 'â˜• Kaffeepause - Entspann dich!';
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(101, 67, 33, 0.9);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 2rem;
        z-index: 9999;
        animation: coffee-float 3s ease-in-out infinite;
    }
    
    @keyframes coffee-float {
        0%, 100% { transform: translateX(-50%) translateY(0); }
        50% { transform: translateX(-50%) translateY(-5px); }
    }
}