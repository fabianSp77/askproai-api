/* Fix for Filament column toggle dropdown overflow */

/* Desktop: Set a reasonable max height and enable scrolling */
@media (min-width: 768px) {
    .fi-ta-col-toggle .fi-dropdown-panel {
        max-height: min(70vh, 600px) !important;
        overflow-y: auto !important;
    }
    
    /* Ensure the form container also scrolls properly */
    .fi-ta-col-toggle .fi-dropdown-panel > div {
        max-height: 100%;
        overflow-y: auto;
    }
}

/* Mobile: More restrictive height for better usability */
@media (max-width: 767px) {
    .fi-ta-col-toggle .fi-dropdown-panel {
        max-height: 60vh !important;
        overflow-y: auto !important;
        width: 90vw !important;
        max-width: 400px !important;
    }
    
    /* Ensure the form container also scrolls properly */
    .fi-ta-col-toggle .fi-dropdown-panel > div {
        max-height: 100%;
        overflow-y: auto;
    }
    
    /* Improve touch scrolling on mobile */
    .fi-ta-col-toggle .fi-dropdown-panel {
        -webkit-overflow-scrolling: touch;
    }
}

/* Ensure the dropdown header stays visible */
.fi-ta-col-toggle .fi-dropdown-panel h4 {
    position: sticky;
    top: 0;
    background: inherit;
    z-index: 10;
    padding-bottom: 0.5rem;
    margin-bottom: 0;
}

/* Add some visual indication that content is scrollable */
.fi-ta-col-toggle .fi-dropdown-panel {
    box-shadow: inset 0 -10px 10px -10px rgba(0, 0, 0, 0.1);
}

/* Dark mode adjustments */
.dark .fi-ta-col-toggle .fi-dropdown-panel {
    box-shadow: inset 0 -10px 10px -10px rgba(255, 255, 255, 0.1);
}

/* Improve checkbox spacing for many columns */
.fi-ta-col-toggle .fi-fo-field-wrp {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
}

/* Add bottom padding to last checkbox for better scroll experience */
.fi-ta-col-toggle .fi-fo-field-wrp:last-child {
    padding-bottom: 1rem;
}