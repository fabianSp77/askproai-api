<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retell Agent MCP Konfiguration f√ºr Claude Desktop</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.95;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .card h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .instruction-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Monaco', 'Courier New', monospace;
            position: relative;
            overflow-x: auto;
        }
        
        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .copy-button:hover {
            background: #5a67d8;
        }
        
        .copy-button.copied {
            background: #48bb78;
        }
        
        .mega-copy-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .mega-copy-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
        }
        
        .mega-copy-button.copied {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }
        
        .status-indicator {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin: 10px 0;
        }
        
        .status-ready {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .status-warning {
            background: #fed7d7;
            color: #742a2a;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }
        
        .feature-item h3 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .warning-box {
            background: #fff5f5;
            border: 2px solid #feb2b2;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .warning-box h3 {
            color: #c53030;
            margin-bottom: 10px;
        }
        
        .success-box {
            background: #f0fff4;
            border: 2px solid #9ae6b4;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .success-box h3 {
            color: #22543d;
            margin-bottom: 10px;
        }
        
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .tab {
            padding: 10px 20px;
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: #718096;
            transition: all 0.3s;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            margin-bottom: -2px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ Retell Agent MCP Konfiguration</h1>
            <p>Instruktionen f√ºr Claude Desktop mit Retell MCP</p>
        </div>

        <!-- Status Card -->
        <div class="card">
            <h2>üìä Status</h2>
            <div class="status-indicator status-ready">
                ‚úÖ MCP Server ist bereit und l√§uft
            </div>
            <p style="margin-top: 10px;">
                <strong>MCP Endpoint:</strong> <code>https://api.askproai.de/api/v2/hair-salon-mcp/mcp</code><br>
                <strong>Agent ID:</strong> <code>agent_d7da9e5c49c4ccfff2526df5c1</code>
            </p>
        </div>

        <!-- Mega Copy Button -->
        <div class="card">
            <h2>üöÄ Schnellstart</h2>
            <p>Kopieren Sie diese Instruktionen und f√ºgen Sie sie in Claude Desktop ein:</p>
            <button class="mega-copy-button" onclick="copyAllInstructions()">
                üìã ALLE INSTRUKTIONEN KOPIEREN
            </button>
            <div id="copy-status" style="text-align: center; color: #48bb78; font-weight: bold; display: none;">
                ‚úÖ Erfolgreich kopiert! Jetzt in Claude Desktop einf√ºgen.
            </div>
        </div>

        <!-- Instructions for Claude Desktop -->
        <div class="card">
            <h2>üìù Instruktionen f√ºr Claude Desktop</h2>
            
            <div class="tabs">
                <button class="tab active" onclick="showTab('mcp')">MCP Konfiguration</button>
                <button class="tab" onclick="showTab('prompt')">Agent Prompt</button>
                <button class="tab" onclick="showTab('testing')">Testing</button>
            </div>

            <div class="tab-content active" id="mcp-content">
                <div class="instruction-box">
                    <p><span class="step-number">1</span> <strong>MCP URL im Retell Dashboard konfigurieren:</strong></p>
                    <div class="code-block">
                        <button class="copy-button" onclick="copyToClipboard(this, 'mcp-url')">Kopieren</button>
                        <pre id="mcp-url">https://api.askproai.de/api/v2/hair-salon-mcp/mcp?company_id=1</pre>
                    </div>
                    <p style="margin-top: 10px;">F√ºgen Sie diese URL im @MCP Bereich Ihres Retell Agents ein.</p>
                </div>

                <div class="instruction-box">
                    <p><span class="step-number">2</span> <strong>Optional: Headers konfigurieren:</strong></p>
                    <div class="code-block">
                        <button class="copy-button" onclick="copyToClipboard(this, 'headers')">Kopieren</button>
                        <pre id="headers">{
  "Content-Type": "application/json",
  "Accept": "application/json",
  "X-Company-ID": "1"
}</pre>
                    </div>
                </div>

                <div class="success-box">
                    <h3>‚úÖ Das war's f√ºr die MCP Konfiguration!</h3>
                    <p>Keine Custom Functions n√∂tig! Der MCP Server handled alles intelligent.</p>
                </div>
            </div>

            <div class="tab-content" id="prompt-content">
                <div class="instruction-box">
                    <p><strong>Deutscher Prompt f√ºr den Retell Agent:</strong></p>
                    <div class="code-block">
                        <button class="copy-button" onclick="copyToClipboard(this, 'agent-prompt')">Kopieren</button>
                        <pre id="agent-prompt">Du bist die freundliche Empfangsmitarbeiterin vom Friseursalon "Sch√∂nheit & Stil". 
Deine Aufgabe ist es, Kundenanrufe entgegenzunehmen und Termine zu vereinbaren.

## Deine Mitarbeiterinnen:
- **Maria** (ID: 1): Spezialistin f√ºr F√§rbungen und Balayage
- **Anna** (ID: 2): Expertin f√ºr Hochsteckfrisuren und Styling  
- **Lisa** (ID: 3): Meisterin f√ºr Schnitte und Dauerwellen

## MCP Integration:
Du hast Zugriff auf ein @MCP System mit folgenden Funktionen:

1. **Services abrufen**: Frage das System nach verf√ºgbaren Services mit Preisen und Dauer
2. **Verf√ºgbarkeit pr√ºfen**: Pr√ºfe freie Termine f√ºr einen Service
3. **Termin buchen**: Buche einen Termin f√ºr den Kunden
4. **R√ºckruf vereinbaren**: Plane einen Beratungsr√ºckruf

## Gespr√§chsablauf:

### 1. Begr√º√üung
"Guten Tag, Friseursalon Sch√∂nheit & Stil, Sie sprechen mit der Empfangsdame. Wie kann ich Ihnen helfen?"

### 2. Service-Auswahl
- Wenn der Kunde nach Services fragt, nutze die MCP Funktion um die aktuelle Liste abzurufen
- Erkl√§re die Services mit Preisen und Dauer
- Bei Unsicherheit: Biete einen Beratungsr√ºckruf an

### 3. Terminvereinbarung
- Frage nach dem gew√ºnschten Service
- Pr√ºfe die Verf√ºgbarkeit √ºber MCP
- Biete verf√ºgbare Termine an
- Best√§tige den Termin mit allen Details

### 4. Wichtige Informationen
- Bei F√§rbungen: Weise auf die Beratungspflicht hin (15 Min vor dem Termin)
- Bei Dauerwellen: Erw√§hne die spezielle Pflege danach
- Bei Hochsteckfrisuren: Frage nach dem Anlass

### 5. Abschluss
- Wiederhole alle Termindaten
- Bedanke dich f√ºr den Anruf
- Verabschiede dich freundlich

## Wichtige Regeln:
- Sei immer h√∂flich und zuvorkommend
- Sprich langsam und deutlich
- Verwende die MCP Funktionen f√ºr alle Datenabfragen
- Bei technischen Problemen: Nimm die Nummer auf und verspreche einen R√ºckruf
- Keine Preisverhandlungen - verweise auf die Salonleitung

## Beispiel-Dialog:
Kunde: "Ich h√§tte gerne einen Termin zum Haare f√§rben."
Du: "Sehr gerne! Lassen Sie mich kurz unsere F√§rbe-Services f√ºr Sie abrufen... 
[MCP: list_services] 
Wir bieten verschiedene F√§rbungen an: Eine Komplett-F√§rbung f√ºr 65‚Ç¨ oder Folienstr√§hnen ab 85‚Ç¨. 
Mit welcher Mitarbeiterin m√∂chten Sie den Termin? Maria ist unsere F√§rbe-Spezialistin."</pre>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="testing-content">
                <div class="instruction-box">
                    <p><span class="step-number">1</span> <strong>Test-Anruf durchf√ºhren:</strong></p>
                    <p>Rufen Sie diese Nummer an: <strong>+49 30 33081738</strong></p>
                </div>

                <div class="instruction-box">
                    <p><span class="step-number">2</span> <strong>Test-Szenarien:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Fragen Sie nach verf√ºgbaren Services</li>
                        <li>Buchen Sie einen Haarschnitt-Termin</li>
                        <li>Fragen Sie nach einem speziellen Service (z.B. Balayage)</li>
                        <li>Vereinbaren Sie einen Beratungsr√ºckruf</li>
                    </ul>
                </div>

                <div class="instruction-box">
                    <p><span class="step-number">3</span> <strong>MCP Test mit cURL:</strong></p>
                    <div class="code-block">
                        <button class="copy-button" onclick="copyToClipboard(this, 'curl-test')">Kopieren</button>
                        <pre id="curl-test">curl -X POST https://api.askproai.de/api/v2/hair-salon-mcp/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "method": "list_services",
    "params": {"company_id": 1},
    "id": 1
  }'</pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature Overview -->
        <div class="card">
            <h2>‚ú® Features des MCP Servers</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <h3>üìã Service-Liste</h3>
                    <p>Abruf aller verf√ºgbaren Services mit Preisen und Dauer</p>
                </div>
                <div class="feature-item">
                    <h3>üìÖ Verf√ºgbarkeit</h3>
                    <p>Echtzeit-Pr√ºfung freier Termine</p>
                </div>
                <div class="feature-item">
                    <h3>‚úÖ Terminbuchung</h3>
                    <p>Direkte Buchung mit Best√§tigung</p>
                </div>
                <div class="feature-item">
                    <h3>üìû R√ºckruf-Service</h3>
                    <p>Beratungsr√ºckrufe vereinbaren</p>
                </div>
            </div>
        </div>

        <!-- Troubleshooting -->
        <div class="card">
            <h2>üîß Troubleshooting</h2>
            
            <div class="warning-box">
                <h3>‚ö†Ô∏è "Invalid discriminator value" Error?</h3>
                <p>Nutzen Sie NUR die MCP Integration, KEINE Custom Functions! Der MCP Server handled alles automatisch.</p>
            </div>

            <div class="instruction-box">
                <p><strong>H√§ufige Probleme und L√∂sungen:</strong></p>
                <ul style="margin-left: 20px; line-height: 1.8;">
                    <li><strong>Agent antwortet nicht auf MCP:</strong> Pr√ºfen Sie, ob die MCP URL korrekt ist</li>
                    <li><strong>Keine Services gefunden:</strong> Stellen Sie sicher, dass company_id=1 gesetzt ist</li>
                    <li><strong>Timeout Errors:</strong> Erh√∂hen Sie das Timeout auf 30000ms</li>
                    <li><strong>Authentication Failed:</strong> Headers sind optional, k√∂nnen weggelassen werden</li>
                </ul>
            </div>
        </div>

        <!-- Claude Desktop Specific Instructions -->
        <div class="card">
            <h2>üñ•Ô∏è Spezielle Claude Desktop Instruktionen</h2>
            <div class="code-block">
                <button class="copy-button" onclick="copyToClipboard(this, 'claude-instructions')">Kopieren</button>
                <pre id="claude-instructions"># Aufgabe f√ºr Claude Desktop mit Retell MCP

Bitte nutze den Retell MCP um den Agent `agent_d7da9e5c49c4ccfff2526df5c1` zu aktualisieren.

## 1. Update den Agent Prompt
Setze den deutschen Prompt (siehe oben) f√ºr den Friseursalon.

## 2. Konfiguriere die MCP Integration
- URL: https://api.askproai.de/api/v2/hair-salon-mcp/mcp
- Query Parameter: company_id=1
- Timeout: 30000ms

## 3. Voice Settings
- Sprache: Deutsch (de-DE)
- Voice: 11labs-Hanna oder alternative deutsche Stimme
- Responsiveness: 0.8
- Interruption Sensitivity: 0.7

## 4. Keine Custom Functions n√∂tig!
Der MCP Server handled alles. Bitte KEINE Custom Functions hinzuf√ºgen.

## 5. Test den Agent
Nach der Konfiguration teste mit: +49 30 33081738

Best√§tige wenn erfolgreich konfiguriert!</pre>
            </div>
        </div>
    </div>

    <textarea id="all-instructions" style="position: absolute; left: -9999px;">
# Retell Agent MCP Konfiguration f√ºr Hair Salon

## Agent ID: agent_d7da9e5c49c4ccfff2526df5c1

## MCP Konfiguration (NUR das wird ben√∂tigt!):
URL: https://api.askproai.de/api/v2/hair-salon-mcp/mcp?company_id=1

## Agent Prompt (Deutsch):
Du bist die freundliche Empfangsmitarbeiterin vom Friseursalon "Sch√∂nheit & Stil". 
Deine Aufgabe ist es, Kundenanrufe entgegenzunehmen und Termine zu vereinbaren.

## Deine Mitarbeiterinnen:
- **Maria** (ID: 1): Spezialistin f√ºr F√§rbungen und Balayage
- **Anna** (ID: 2): Expertin f√ºr Hochsteckfrisuren und Styling  
- **Lisa** (ID: 3): Meisterin f√ºr Schnitte und Dauerwellen

## MCP Integration:
Du hast Zugriff auf ein @MCP System mit folgenden Funktionen:

1. **Services abrufen**: Frage das System nach verf√ºgbaren Services mit Preisen und Dauer
2. **Verf√ºgbarkeit pr√ºfen**: Pr√ºfe freie Termine f√ºr einen Service
3. **Termin buchen**: Buche einen Termin f√ºr den Kunden
4. **R√ºckruf vereinbaren**: Plane einen Beratungsr√ºckruf

## Gespr√§chsablauf:

### 1. Begr√º√üung
"Guten Tag, Friseursalon Sch√∂nheit & Stil, Sie sprechen mit der Empfangsdame. Wie kann ich Ihnen helfen?"

### 2. Service-Auswahl
- Wenn der Kunde nach Services fragt, nutze die MCP Funktion um die aktuelle Liste abzurufen
- Erkl√§re die Services mit Preisen und Dauer
- Bei Unsicherheit: Biete einen Beratungsr√ºckruf an

### 3. Terminvereinbarung
- Frage nach dem gew√ºnschten Service
- Pr√ºfe die Verf√ºgbarkeit √ºber MCP
- Biete verf√ºgbare Termine an
- Best√§tige den Termin mit allen Details

### 4. Wichtige Informationen
- Bei F√§rbungen: Weise auf die Beratungspflicht hin (15 Min vor dem Termin)
- Bei Dauerwellen: Erw√§hne die spezielle Pflege danach
- Bei Hochsteckfrisuren: Frage nach dem Anlass

### 5. Abschluss
- Wiederhole alle Termindaten
- Bedanke dich f√ºr den Anruf
- Verabschiede dich freundlich

## Wichtige Regeln:
- Sei immer h√∂flich und zuvorkommend
- Sprich langsam und deutlich
- Verwende die MCP Funktionen f√ºr alle Datenabfragen
- Bei technischen Problemen: Nimm die Nummer auf und verspreche einen R√ºckruf
- Keine Preisverhandlungen - verweise auf die Salonleitung

## Voice Settings:
- Sprache: Deutsch (de-DE)
- Voice: 11labs-Hanna
- Responsiveness: 0.8
- Interruption Sensitivity: 0.7

## Test-Nummer: +49 30 33081738

## WICHTIG: KEINE Custom Functions hinzuf√ºgen! Nur MCP URL konfigurieren.
    </textarea>

    <script>
        function copyToClipboard(button, elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent || element.innerText;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = '‚úì Kopiert!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            });
        }
        
        function copyAllInstructions() {
            const textarea = document.getElementById('all-instructions');
            const button = document.querySelector('.mega-copy-button');
            const status = document.getElementById('copy-status');
            
            navigator.clipboard.writeText(textarea.value).then(() => {
                button.textContent = '‚úÖ ERFOLGREICH KOPIERT!';
                button.classList.add('copied');
                status.style.display = 'block';
                
                setTimeout(() => {
                    button.textContent = 'üìã ALLE INSTRUKTIONEN KOPIEREN';
                    button.classList.remove('copied');
                    status.style.display = 'none';
                }, 3000);
            });
        }
        
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-content').classList.add('active');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>