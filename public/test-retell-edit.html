<!DOCTYPE html>
<html>
<head>
    <title>Test Retell Edit Error</title>
    <script>
        // Function to check for JavaScript errors
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            console.error('JavaScript Error:', {
                message: msg,
                source: url,
                line: lineNo,
                column: columnNo,
                error: error
            });
            document.getElementById('errors').innerHTML += 
                '<div style="color: red; margin: 10px; padding: 10px; border: 1px solid red;">' +
                'Error: ' + msg + '<br>' +
                'Source: ' + url + '<br>' +
                'Line: ' + lineNo + ', Column: ' + columnNo +
                '</div>';
            return false;
        };
        
        // Test AJAX request to simulate what might be happening
        function testRetellEdit() {
            console.log('Testing Retell edit functionality...');
            
            // Check if Livewire is loaded
            if (typeof window.Livewire !== 'undefined') {
                console.log('Livewire is loaded');
                document.getElementById('results').innerHTML += '<p>✓ Livewire is loaded</p>';
            } else {
                console.error('Livewire is NOT loaded');
                document.getElementById('results').innerHTML += '<p style="color: red;">✗ Livewire is NOT loaded</p>';
            }
            
            // Check if Alpine.js is loaded
            if (typeof window.Alpine !== 'undefined') {
                console.log('Alpine.js is loaded');
                document.getElementById('results').innerHTML += '<p>✓ Alpine.js is loaded</p>';
            } else {
                console.error('Alpine.js is NOT loaded');
                document.getElementById('results').innerHTML += '<p style="color: red;">✗ Alpine.js is NOT loaded</p>';
            }
        }
    </script>
</head>
<body>
    <h1>Test Retell Edit Error</h1>
    
    <div id="errors" style="background: #fee; padding: 20px; margin: 20px 0;">
        <h2>JavaScript Errors:</h2>
    </div>
    
    <div id="results" style="background: #efe; padding: 20px; margin: 20px 0;">
        <h2>Test Results:</h2>
    </div>
    
    <button onclick="testRetellEdit()">Run Tests</button>
    
    <div style="background: #eef; padding: 20px; margin: 20px 0;">
        <h2>Instructions:</h2>
        <ol>
            <li>Open the browser developer console (F12)</li>
            <li>Go to https://api.askproai.de/admin/retell-ultimate-control-center</li>
            <li>Click on "edit" for any agent</li>
            <li>Check the console for any JavaScript errors</li>
            <li>Check the Network tab for the failed request details</li>
        </ol>
    </div>
</body>
</html>