<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://api.askproai.de/mkdocs/docs/development/standards/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Coding Standards - AskProAI Dokumentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Coding Standards";
        var mkdocs_page_input_path = "docs/development/standards.md";
        var mkdocs_page_url = "/mkdocs/docs/development/standards/";
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> AskProAI Dokumentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Start</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Hauptdokumentation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../CLAUDE/">Projekt Übersicht</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../CLAUDE_QUICK_REFERENCE/">Quick Reference</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../CLAUDE_CONTEXT_SUMMARY/">Context Summary</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Power User</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../TOP_10_COMMANDS/">Top 10 Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../CLAUDE_BEFEHLE_FUER_DICH/">Claude Befehle für dich</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../MY_COMMANDS/">Meine Commands</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Best Practices 2025</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../BEST_PRACTICES_IMPLEMENTATION/">Implementation Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../DEVELOPMENT_PROCESS_2025/">Development Process</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../CLAUDE_DOCUMENTATION_GAPS_ANALYSIS.md">Documentation Gaps</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Schnellstart</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../5-MINUTEN_ONBOARDING_PLAYBOOK/">5-Minuten Onboarding</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Architektur</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../architecture/overview/">Übersicht</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../architecture/services/">Services</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../architecture/system-design/">System Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../architecture/mcp-architecture/">MCP Architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../architecture/database-schema/">Database Schema</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../architecture/security/">Security</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../architecture/performance/">Performance</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../../api/overview.md">Übersicht</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../api/authentication/">Authentication</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../api/endpoints.md">Endpoints</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../api/webhooks/">Webhooks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../features/appointment-booking/">Appointment Booking</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../features/call-management.md">Call Management</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../features/customer-portal.md">Customer Portal</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../features/multi-tenancy/">Multi-Tenancy</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../../development/setup.md">Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../development/testing.md">Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../development/code-standards.md">Code Standards</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../../deployment/overview.md">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../deployment/production.md">Production</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../../deployment/environment-variables.md">Environment Variables</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Betrieb</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../CUSTOMER_SUCCESS_RUNBOOK/">Customer Success</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../EMERGENCY_RESPONSE_PLAYBOOK/">Emergency Response</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../ERROR_PATTERNS/">Error Patterns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../TROUBLESHOOTING_DECISION_TREE/">Troubleshooting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../DEPLOYMENT_CHECKLIST/">Deployment Checklist</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Monitoring</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../KPI_DASHBOARD_TEMPLATE/">KPI Dashboard</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../INTEGRATION_HEALTH_MONITOR/">Health Monitor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../PHONE_TO_APPOINTMENT_FLOW/">Phone to Appointment Flow</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">AskProAI Dokumentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Coding Standards</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="coding-standards">Coding Standards</h1>
<h2 id="overview">Overview</h2>
<p>This document outlines the coding standards and best practices for the AskProAI project. Following these standards ensures code consistency, maintainability, and quality across the entire codebase.</p>
<h2 id="php-standards">PHP Standards</h2>
<h3 id="psr-standards">PSR Standards</h3>
<p>We follow PSR-12 for PHP code style and PSR-4 for autoloading.</p>
<pre><code class="language-php">&lt;?php

declare(strict_types=1);

namespace App\Services;

use App\Models\Appointment;
use App\Exceptions\BookingException;
use Illuminate\Support\Collection;

class AppointmentService
{
    private const MAX_BOOKING_DAYS = 60;

    public function __construct(
        private readonly CalendarService $calendarService,
        private readonly NotificationService $notificationService
    ) {
    }

    public function createAppointment(array $data): Appointment
    {
        // Method implementation
    }
}
</code></pre>
<h3 id="naming-conventions">Naming Conventions</h3>
<h4 id="classes">Classes</h4>
<ul>
<li>Use PascalCase for class names</li>
<li>Be descriptive and specific</li>
<li>Suffix with type (Controller, Service, Repository, etc.)</li>
</ul>
<pre><code class="language-php">// Good
class AppointmentBookingService
class CustomerController
class PaymentRepository

// Bad
class Appointment  // Too generic for a service
class custController  // Wrong case
class Process  // Not descriptive
</code></pre>
<h4 id="methods">Methods</h4>
<ul>
<li>Use camelCase for method names</li>
<li>Start with a verb</li>
<li>Be descriptive about what the method does</li>
</ul>
<pre><code class="language-php">// Good
public function createAppointment(): Appointment
public function calculateTotalPrice(): float
public function hasAvailableSlots(): bool

// Bad
public function appointment()  // Not descriptive
public function total_price()  // Wrong case
public function process()  // Too vague
</code></pre>
<h4 id="variables">Variables</h4>
<ul>
<li>Use camelCase for variables</li>
<li>Use descriptive names</li>
<li>Avoid abbreviations</li>
</ul>
<pre><code class="language-php">// Good
$appointmentDate = Carbon::parse($request-&gt;date);
$customerEmail = $customer-&gt;email;
$isAvailable = $this-&gt;checkAvailability($slot);

// Bad
$d = Carbon::parse($request-&gt;date);  // Too short
$e_mail = $customer-&gt;email;  // Wrong case
$flag = true;  // Not descriptive
</code></pre>
<h3 id="type-declarations">Type Declarations</h3>
<p>Always use type declarations for parameters and return types:</p>
<pre><code class="language-php">class CustomerService
{
    public function findByPhone(string $phone): ?Customer
    {
        return Customer::where('phone', $phone)-&gt;first();
    }

    public function createCustomer(array $data): Customer
    {
        return Customer::create($data);
    }

    public function getActiveCustomers(): Collection
    {
        return Customer::active()-&gt;get();
    }
}
</code></pre>
<h3 id="class-organization">Class Organization</h3>
<p>Organize class members in this order:
1. Constants
2. Properties
3. Constructor
4. Public methods
5. Protected methods
6. Private methods</p>
<pre><code class="language-php">class ExampleService
{
    // 1. Constants
    private const CACHE_TTL = 3600;

    // 2. Properties
    private CacheManager $cache;
    private LoggerInterface $logger;

    // 3. Constructor
    public function __construct(
        CacheManager $cache,
        LoggerInterface $logger
    ) {
        $this-&gt;cache = $cache;
        $this-&gt;logger = $logger;
    }

    // 4. Public methods
    public function process(): void
    {
        // Implementation
    }

    // 5. Protected methods
    protected function validate(): bool
    {
        // Implementation
    }

    // 6. Private methods
    private function cleanup(): void
    {
        // Implementation
    }
}
</code></pre>
<h2 id="laravel-conventions">Laravel Conventions</h2>
<h3 id="eloquent-models">Eloquent Models</h3>
<pre><code class="language-php">namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;
use Illuminate\Database\Eloquent\SoftDeletes;

class Appointment extends Model
{
    use HasFactory, SoftDeletes;

    /**
     * The attributes that are mass assignable.
     *
     * @var array&lt;string&gt;
     */
    protected $fillable = [
        'customer_id',
        'branch_id',
        'staff_id',
        'service_id',
        'date',
        'time',
        'duration',
        'status',
        'notes',
    ];

    /**
     * The attributes that should be cast.
     *
     * @var array&lt;string, string&gt;
     */
    protected $casts = [
        'date' =&gt; 'date',
        'time' =&gt; 'datetime',
        'duration' =&gt; 'integer',
        'metadata' =&gt; 'array',
    ];

    /**
     * Get the customer for the appointment.
     */
    public function customer(): BelongsTo
    {
        return $this-&gt;belongsTo(Customer::class);
    }

    /**
     * Scope a query to only include upcoming appointments.
     */
    public function scopeUpcoming($query)
    {
        return $query-&gt;where('date', '&gt;=', now()-&gt;toDateString())
            -&gt;orderBy('date')
            -&gt;orderBy('time');
    }
}
</code></pre>
<h3 id="controllers">Controllers</h3>
<pre><code class="language-php">namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Http\Requests\StoreAppointmentRequest;
use App\Http\Resources\AppointmentResource;
use App\Services\AppointmentService;
use Illuminate\Http\JsonResponse;

class AppointmentController extends Controller
{
    public function __construct(
        private readonly AppointmentService $appointmentService
    ) {
    }

    /**
     * Store a newly created appointment.
     */
    public function store(StoreAppointmentRequest $request): JsonResponse
    {
        $appointment = $this-&gt;appointmentService-&gt;createAppointment(
            $request-&gt;validated()
        );

        return response()-&gt;json([
            'data' =&gt; new AppointmentResource($appointment),
            'message' =&gt; 'Appointment created successfully',
        ], 201);
    }
}
</code></pre>
<h3 id="form-requests">Form Requests</h3>
<pre><code class="language-php">namespace App\Http\Requests;

use Illuminate\Foundation\Http\FormRequest;

class StoreAppointmentRequest extends FormRequest
{
    /**
     * Determine if the user is authorized to make this request.
     */
    public function authorize(): bool
    {
        return true;
    }

    /**
     * Get the validation rules that apply to the request.
     */
    public function rules(): array
    {
        return [
            'customer_name' =&gt; ['required', 'string', 'max:255'],
            'customer_phone' =&gt; ['required', 'string', 'regex:/^[+][0-9]{10,15}$/'],
            'service_id' =&gt; ['required', 'exists:services,id'],
            'date' =&gt; ['required', 'date', 'after:today'],
            'time' =&gt; ['required', 'date_format:H:i'],
            'notes' =&gt; ['nullable', 'string', 'max:500'],
        ];
    }

    /**
     * Get custom error messages.
     */
    public function messages(): array
    {
        return [
            'customer_phone.regex' =&gt; 'Phone number must be in international format (e.g., +49...)',
            'date.after' =&gt; 'Appointment date must be in the future',
        ];
    }
}
</code></pre>
<h2 id="javascripttypescript-standards">JavaScript/TypeScript Standards</h2>
<h3 id="es6-features">ES6+ Features</h3>
<p>Always use modern JavaScript features:</p>
<pre><code class="language-javascript">// Use const/let instead of var
const API_ENDPOINT = '/api/appointments';
let isLoading = false;

// Use arrow functions
const calculateTotal = (items) =&gt; {
    return items.reduce((sum, item) =&gt; sum + item.price, 0);
};

// Use destructuring
const { name, email, phone } = customer;

// Use template literals
const message = `Appointment confirmed for ${name} on ${date}`;

// Use async/await
const fetchAppointments = async () =&gt; {
    try {
        const response = await fetch(API_ENDPOINT);
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Failed to fetch appointments:', error);
    }
};
</code></pre>
<h3 id="vuejs-components">Vue.js Components</h3>
<pre><code class="language-vue">&lt;template&gt;
    &lt;div class=&quot;appointment-form&quot;&gt;
        &lt;h2&gt;{{ title }}&lt;/h2&gt;

        &lt;form @submit.prevent=&quot;handleSubmit&quot;&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;label for=&quot;customer-name&quot;&gt;Name&lt;/label&gt;
                &lt;input
                    id=&quot;customer-name&quot;
                    v-model=&quot;form.customerName&quot;
                    type=&quot;text&quot;
                    required
                    @input=&quot;validateName&quot;
                &gt;
                &lt;span v-if=&quot;errors.customerName&quot; class=&quot;error&quot;&gt;
                    {{ errors.customerName }}
                &lt;/span&gt;
            &lt;/div&gt;

            &lt;button type=&quot;submit&quot; :disabled=&quot;isSubmitting&quot;&gt;
                {{ isSubmitting ? 'Booking...' : 'Book Appointment' }}
            &lt;/button&gt;
        &lt;/form&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref, computed } from 'vue';
import { useAppointmentStore } from '@/stores/appointment';

export default {
    name: 'AppointmentForm',

    props: {
        title: {
            type: String,
            default: 'Book an Appointment'
        }
    },

    setup() {
        const appointmentStore = useAppointmentStore();

        const form = ref({
            customerName: '',
            customerPhone: '',
            serviceId: null,
            date: '',
            time: ''
        });

        const errors = ref({});
        const isSubmitting = ref(false);

        const isFormValid = computed(() =&gt; {
            return Object.keys(errors.value).length === 0 
                &amp;&amp; form.value.customerName 
                &amp;&amp; form.value.customerPhone;
        });

        const validateName = () =&gt; {
            if (form.value.customerName.length &lt; 2) {
                errors.value.customerName = 'Name must be at least 2 characters';
            } else {
                delete errors.value.customerName;
            }
        };

        const handleSubmit = async () =&gt; {
            if (!isFormValid.value) return;

            isSubmitting.value = true;

            try {
                await appointmentStore.createAppointment(form.value);
                // Handle success
            } catch (error) {
                // Handle error
            } finally {
                isSubmitting.value = false;
            }
        };

        return {
            form,
            errors,
            isSubmitting,
            validateName,
            handleSubmit
        };
    }
};
&lt;/script&gt;

&lt;style scoped&gt;
.appointment-form {
    max-width: 500px;
    margin: 0 auto;
}

.form-group {
    margin-bottom: 1rem;
}

.error {
    color: #dc3545;
    font-size: 0.875rem;
}
&lt;/style&gt;
</code></pre>
<h2 id="database-standards">Database Standards</h2>
<h3 id="migrations">Migrations</h3>
<pre><code class="language-php">&lt;?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('appointments', function (Blueprint $table) {
            $table-&gt;id();
            $table-&gt;foreignId('company_id')-&gt;constrained()-&gt;cascadeOnDelete();
            $table-&gt;foreignId('branch_id')-&gt;constrained()-&gt;cascadeOnDelete();
            $table-&gt;foreignId('customer_id')-&gt;constrained()-&gt;cascadeOnDelete();
            $table-&gt;foreignId('staff_id')-&gt;nullable()-&gt;constrained()-&gt;nullOnDelete();
            $table-&gt;foreignId('service_id')-&gt;constrained()-&gt;cascadeOnDelete();
            $table-&gt;date('date');
            $table-&gt;time('time');
            $table-&gt;integer('duration')-&gt;comment('Duration in minutes');
            $table-&gt;enum('status', ['scheduled', 'confirmed', 'completed', 'cancelled', 'no_show'])
                -&gt;default('scheduled');
            $table-&gt;text('notes')-&gt;nullable();
            $table-&gt;json('metadata')-&gt;nullable();
            $table-&gt;timestamps();
            $table-&gt;softDeletes();

            // Indexes for performance
            $table-&gt;index(['company_id', 'date', 'status']);
            $table-&gt;index(['branch_id', 'date']);
            $table-&gt;index(['customer_id', 'created_at']);
            $table-&gt;index(['staff_id', 'date']);
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('appointments');
    }
};
</code></pre>
<h3 id="database-queries">Database Queries</h3>
<p>Always optimize queries:</p>
<pre><code class="language-php">// Good - Eager load relationships
$appointments = Appointment::with(['customer', 'service', 'staff'])
    -&gt;where('branch_id', $branchId)
    -&gt;where('date', $date)
    -&gt;get();

// Bad - N+1 query problem
$appointments = Appointment::where('branch_id', $branchId)-&gt;get();
foreach ($appointments as $appointment) {
    echo $appointment-&gt;customer-&gt;name; // Triggers additional query
}

// Good - Use query scopes
$upcomingAppointments = Appointment::upcoming()
    -&gt;forBranch($branchId)
    -&gt;get();

// Good - Select only needed columns
$customers = Customer::select('id', 'name', 'phone')
    -&gt;active()
    -&gt;get();
</code></pre>
<h2 id="documentation-standards">Documentation Standards</h2>
<h3 id="phpdoc-comments">PHPDoc Comments</h3>
<pre><code class="language-php">/**
 * Create a new appointment for the customer.
 *
 * @param array $data The appointment data
 * @param Customer|null $customer Optional customer instance
 * @return Appointment The created appointment
 * @throws BookingException If the time slot is not available
 * @throws ValidationException If the data is invalid
 */
public function createAppointment(array $data, ?Customer $customer = null): Appointment
{
    // Implementation
}
</code></pre>
<h3 id="inline-comments">Inline Comments</h3>
<pre><code class="language-php">// Use comments to explain &quot;why&quot;, not &quot;what&quot;

// Bad
// Increment counter
$counter++;

// Good
// Increment retry counter to track failed attempts for rate limiting
$retryCounter++;

// Good - Explain complex business logic
// We need to check availability 15 minutes before and after
// the requested time to account for buffer time between appointments
$bufferTime = 15;
$startTime = $requestedTime-&gt;subMinutes($bufferTime);
$endTime = $requestedTime-&gt;addMinutes($bufferTime);
</code></pre>
<h2 id="testing-standards">Testing Standards</h2>
<h3 id="test-naming">Test Naming</h3>
<pre><code class="language-php">class AppointmentServiceTest extends TestCase
{
    /** @test */
    public function it_creates_appointment_with_valid_data()
    {
        // Test implementation
    }

    /** @test */
    public function it_throws_exception_when_time_slot_is_not_available()
    {
        // Test implementation
    }

    /** @test */
    public function it_sends_confirmation_email_after_booking()
    {
        // Test implementation
    }
}
</code></pre>
<h3 id="test-structure">Test Structure</h3>
<p>Follow the AAA pattern (Arrange, Act, Assert):</p>
<pre><code class="language-php">/** @test */
public function it_calculates_appointment_end_time_correctly()
{
    // Arrange
    $appointment = Appointment::factory()-&gt;create([
        'time' =&gt; '14:00:00',
        'duration' =&gt; 30,
    ]);

    // Act
    $endTime = $appointment-&gt;getEndTime();

    // Assert
    $this-&gt;assertEquals('14:30:00', $endTime-&gt;format('H:i:s'));
}
</code></pre>
<h2 id="git-commit-standards">Git Commit Standards</h2>
<h3 id="commit-message-format">Commit Message Format</h3>
<p>Follow the Conventional Commits specification:</p>
<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;

&lt;body&gt;

&lt;footer&gt;
</code></pre>
<h3 id="types">Types</h3>
<ul>
<li><code>feat</code>: New feature</li>
<li><code>fix</code>: Bug fix</li>
<li><code>docs</code>: Documentation changes</li>
<li><code>style</code>: Code style changes (formatting, etc.)</li>
<li><code>refactor</code>: Code refactoring</li>
<li><code>test</code>: Adding or updating tests</li>
<li><code>chore</code>: Maintenance tasks</li>
</ul>
<h3 id="examples">Examples</h3>
<pre><code class="language-bash"># Good commit messages
git commit -m &quot;feat(appointments): add recurring appointment support&quot;
git commit -m &quot;fix(webhooks): handle missing signature header gracefully&quot;
git commit -m &quot;docs: update installation guide with Docker instructions&quot;
git commit -m &quot;refactor(services): extract notification logic to separate service&quot;

# Bad commit messages
git commit -m &quot;fix bug&quot;
git commit -m &quot;Update code&quot;
git commit -m &quot;WIP&quot;
</code></pre>
<h2 id="security-standards">Security Standards</h2>
<h3 id="input-validation">Input Validation</h3>
<p>Always validate and sanitize user input:</p>
<pre><code class="language-php">// Validate request data
$validated = $request-&gt;validate([
    'email' =&gt; ['required', 'email', 'max:255'],
    'phone' =&gt; ['required', 'regex:/^[+][0-9]{10,15}$/'],
    'date' =&gt; ['required', 'date', 'after:today', 'before:+60 days'],
]);

// Sanitize output
$safeHtml = e($userInput); // Laravel's escape helper
$cleaned = strip_tags($htmlContent);
</code></pre>
<h3 id="sql-injection-prevention">SQL Injection Prevention</h3>
<pre><code class="language-php">// Good - Use parameter binding
$appointments = DB::select(
    'SELECT * FROM appointments WHERE branch_id = ? AND date = ?',
    [$branchId, $date]
);

// Good - Use query builder
$appointments = DB::table('appointments')
    -&gt;where('branch_id', $branchId)
    -&gt;where('date', $date)
    -&gt;get();

// Bad - Never concatenate user input
$appointments = DB::select(
    &quot;SELECT * FROM appointments WHERE branch_id = {$branchId}&quot;
);
</code></pre>
<h2 id="performance-standards">Performance Standards</h2>
<h3 id="caching">Caching</h3>
<pre><code class="language-php">// Cache expensive operations
public function getEventTypes(): Collection
{
    return Cache::remember('event-types', 300, function () {
        return EventType::with('services')-&gt;active()-&gt;get();
    });
}

// Use cache tags for easy invalidation
Cache::tags(['appointments', 'branch-' . $branchId])
    -&gt;remember($key, 3600, function () {
        return $this-&gt;calculateAvailability();
    });
</code></pre>
<h3 id="pagination">Pagination</h3>
<p>Always paginate large datasets:</p>
<pre><code class="language-php">// Good
$appointments = Appointment::paginate(20);

// Better - with custom pagination
$appointments = Appointment::with(['customer', 'service'])
    -&gt;latest()
    -&gt;paginate(
        perPage: 20,
        columns: ['id', 'customer_id', 'service_id', 'date', 'time', 'status']
    );
</code></pre>
<h2 id="code-review-checklist">Code Review Checklist</h2>
<p>Before submitting code for review, ensure:</p>
<ul>
<li>[ ] Code follows PSR-12 standards</li>
<li>[ ] All methods have proper type declarations</li>
<li>[ ] Complex logic is well-commented</li>
<li>[ ] No hardcoded values (use constants or config)</li>
<li>[ ] Proper error handling is implemented</li>
<li>[ ] Security considerations are addressed</li>
<li>[ ] Performance optimizations are applied</li>
<li>[ ] Tests are written and passing</li>
<li>[ ] Documentation is updated</li>
<li>[ ] No console.log or dump statements</li>
</ul>
<h2 id="related-documentation">Related Documentation</h2>
<ul>
<li><a href="../testing/">Testing Guide</a></li>
<li><a href="../../configuration/security/">Security Best Practices</a></li>
<li><a href="../contributing/">Contributing Guide</a></li>
<li><a href="../api/standards.md">API Standards</a></li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
