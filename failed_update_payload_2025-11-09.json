{"general_tools":[{"name":"end_call","type":"end_call","description":"Only use this function if you are 100% sure the call is finished and the customer is happy to end the call."},{"number":"+491604366218","transfer_destination":{"type":"predefined","number":"+491604366218"},"warm_transfer_option":{"type":"prompt","prompt":"Sage Hallo, und erkl\u00e4re, dass du einen Anrufer hast, mit dem Namen und den Grund seines Anrufs. "},"name":"transfer_call","description":"Den Anruf auf Wunsch des Anrufers weiterleiten an Fabian Spitzer. ","transfer_option":{"type":"warm_transfer","public_handoff_option":{"type":"prompt","prompt":"Sage Hallo, und erkl\u00e4re, dass du einen Anrufer hast, mit dem Namen und den Grund seines Anrufs. "}},"type":"transfer_call","show_transferee_as_caller":false},{"headers":[],"parameter_type":"json","method":"GET","query_params":[],"description":"Liefert aktuelles Datum, Uhrzeit und Wochentag in deutscher Zeit\n","type":"custom","url":"https://api.askproai.de/api/zeitinfo?locale=de","timeout_ms":120000,"speak_after_execution":true,"name":"current_time_berlin","response_variables":[],"speak_during_execution":false,"parameters":{"type":"object","properties":{"date":{"type":"string","description":"Aktuelles Datum im Format TT.MM.JJJJ"},"weekday":{"type":"string","description":"Aktueller Wochentag ausgeschrieben"},"time":{"type":"string","description":"Aktuelle Uhrzeit im Format HH:MM"}},"required":["date","time","weekday"]}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Pr\u00fcfe ob ein Kunde im System existiert. MUSS IMMER zu Beginn des Gespr\u00e4chs aufgerufen werden! Nutzt automatisch die Anrufer-Telefonnummer.","type":"custom","url":"https://api.askproai.de/api/retell/check-customer","timeout_ms":10000,"speak_after_execution":false,"name":"check_customer","response_variables":{"customer_id":"$.customer_id","customer_exists":"$.exists","customer_name":"$.name"},"speak_during_execution":false,"parameters":{"type":"object","properties":{"call_id":{"type":"string","description":"Die Call ID - IMMER {{call_id}} verwenden"}},"required":["call_id"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Book an appointment","type":"custom","url":"https://api.askproai.de/api/retell/book-appointment","execution_message_description":"Ich buche den Termin","timeout_ms":15000,"speak_after_execution":false,"name":"book_appointment","response_variables":{"message":"$.message","appointment_id":"$.appointment_id","success":"$.success"},"speak_during_execution":true,"parameters":{"type":"object","properties":{"appointment_date":{"type":"string","description":"Datum des Termins"},"appointment_time":{"type":"string","description":"Uhrzeit des Termins"},"service_type":{"type":"string","description":"Art der Dienstleistung"},"customer_name":{"type":"string","description":"Name des Kunden"},"call_id":{"type":"string","description":"Die Call ID - IMMER {{call_id}} verwenden"}},"required":["call_id","customer_name","appointment_date","appointment_time","service_type"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Sammelt alle Termindaten vom Anrufer, pr\u00fcft Verf\u00fcgbarkeit und bucht bei Best\u00e4tigung. NIEMALS nach der Telefonnummer fragen!","type":"custom","url":"https://api.askproai.de/api/retell/collect-appointment","args_at_root":false,"execution_message_description":"Ich pr\u00fcfe den Terminwunsch","timeout_ms":120000,"speak_after_execution":true,"name":"collect_appointment_data","response_variables":{"success":"$.success","termin_referenz":"$.reference_id","naechste_schritte":"$.next_steps","appointment_id":"$.appointment_id","bestaetigung_status":"$.bestaetigung_status","message":" $.message","status":"$.status"},"speak_during_execution":true,"parameters":{"type":"object","properties":{"datum":{"type":"string","description":"Datum des Termins (z.B. 'heute', 'morgen', '01.10.2025')"},"mitarbeiter_wunsch":{"type":"string","description":"Bevorzugter Mitarbeiter (optional, nur wenn Kunde es erw\u00e4hnt)"},"uhrzeit":{"type":"string","description":"Gew\u00fcnschte Uhrzeit im 24-Stunden-Format (z.B. '09:00', '13:00', '15:30')"},"name":{"type":"string","description":"Vollst\u00e4ndiger Name des Kunden"},"bestaetigung":{"type":"boolean","description":"WICHTIG: Setze auf true beim ZWEITEN Aufruf, um die Buchung zu best\u00e4tigen. Beim ersten Aufruf weglassen oder false."},"dienstleistung":{"type":"string","description":"Gew\u00fcnschte Dienstleistung oder Behandlung"},"email":{"type":"string","description":"E-Mail-Adresse f\u00fcr Terminbest\u00e4tigung (optional, nur wenn Kunde es w\u00fcnscht)"},"kundenpraeferenzen":{"type":"string","description":"Zus\u00e4tzliche W\u00fcnsche oder Anmerkungen (optional)"},"call_id":{"type":"string","description":"Die Call ID - IMMER {{call_id}} verwenden"}},"required":["call_id","datum","uhrzeit","name","dienstleistung"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Findet einen bestehenden Termin fuer den Anrufer. Nutze diese Funktion wenn der Kunde fragt Wann ist mein Termin, Um wie viel Uhr habe ich gebucht oder Informationen ueber einen gebuchten Termin haben moechte. WICHTIG: Diese Funktion funktioniert NUR wenn die Telefonnummer des Anrufers uebertragen wurde, nicht bei unterdrueckter Nummer.","type":"custom","url":"https://api.askproai.de/api/retell/function-call","args_at_root":false,"execution_message_description":"Ich suche Ihren Termin","timeout_ms":30000,"speak_after_execution":true,"name":"query_appointment","response_variables":{"requires_phone_number":"$.requires_phone_number","staff_name":"$.appointment.staff","appointment_time":"$.appointment.time","success":"$.success","service_name":"$.appointment.service","appointment_count":"$.appointment_count","appointment_id":"$.appointment.id","appointment_date":"$.appointment.date","error":"$.error","message":"$.message"},"speak_during_execution":true,"parameters":{"type":"object","properties":{"appointment_date":{"type":"string","description":"Datum des gesuchten Termins im Format YYYY-MM-DD oder relative Angabe wie heute, morgen, 10.10.2025. Optional - wenn nicht angegeben werden alle zukuenftigen Termine angezeigt."},"service_name":{"type":"string","description":"Name der gebuchten Dienstleistung zur Filterung (optional)"},"call_id":{"type":"string","description":"Call ID des aktuellen Anrufs"}},"required":["call_id"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Einen bestehenden Termin verschieben. Die Telefonnummer wird automatisch ermittelt.","type":"custom","url":"https://api.askproai.de/api/retell/reschedule-appointment","args_at_root":false,"execution_message_description":"Ich verschiebe den Termin","timeout_ms":15000,"speak_after_execution":true,"name":"reschedule_appointment","response_variables":{"message":"$.message","success":"$.success"},"speak_during_execution":true,"parameters":{"type":"object","properties":{"customer_name":{"type":"string","description":"Name des Kunden dessen Termin verschoben werden soll (z.B. 'Hans Schuster'). WICHTIG: Bei anonymen Anrufern ist dies der einzige Weg den Termin zu finden!"},"new_date":{"type":"string","description":"Neues Datum f\u00fcr den Termin"},"new_time":{"type":"string","description":"Neue Uhrzeit f\u00fcr den Termin (z.B. '16:30')"},"old_date":{"type":"string","description":"Aktuelles Datum des Termins (z.B. '7. Oktober' oder 'siebter Oktober')"},"call_id":{"type":"string","description":"Die Retell Call ID"}},"required":["old_date","new_date","new_time","call_id"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Einen bestehenden Termin stornieren. Die Telefonnummer wird automatisch ermittelt.","type":"custom","url":"https://api.askproai.de/api/retell/cancel-appointment","args_at_root":false,"execution_message_description":"Ich storniere den Termin","timeout_ms":10000,"speak_after_execution":true,"name":"cancel_appointment","response_variables":{"message":"$.message","success":"$.success"},"speak_during_execution":true,"parameters":{"type":"object","properties":{"appointment_date":{"type":"string","description":"Datum des zu stornierenden Termins (z.B. '2025-10-06' oder '6. Oktober')"},"reason":{"type":"string","description":"Grund f\u00fcr die Stornierung (optional)"},"customer_name":{"type":"string","description":"Name des Kunden dessen Termin storniert werden soll (z.B. 'Hans Schuster'). WICHTIG: Bei anonymen Anrufern ist dies der einzige Weg den Termin zu finden!"},"call_id":{"type":"string","description":"Die Retell Call ID"}},"required":["appointment_date","call_id"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":{"{}":""},"description":"Interpretiert deutsche Zeitangaben wie dieser Freitag, n\u00e4chste Woche und liefert strukturierte Datumsinformationen mit korrekter dieser/n\u00e4chster Semantik","type":"custom","url":"https://api.askproai.de/api/webhooks/retell/datetime","args_at_root":false,"timeout_ms":5000,"speak_after_execution":true,"name":"getCurrentDateTimeInfo","response_variables":[],"speak_during_execution":false,"parameters":{"type":"object","properties":{"zeitangabe":{"type":"string","description":"Deutsche Zeitangabe vom Kunden (z.B. 'heute', 'dieser Freitag', 'n\u00e4chste Woche', '15.10.2025')"},"kontext":{"type":"string","description":"Kontext der Anfrage (optional)","enum":["termin_buchen","verfuegbarkeit_pruefen","termin_aendern"]},"call_id":{"type":"string","description":"Die Retell Call ID - IMMER {{call_id}} verwenden"}},"required":["call_id","zeitangabe"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Check available appointment slots","type":"custom","url":"https://api.askproai.de/api/retell/check-availability","args_at_root":true,"execution_message_description":"Ich pr\u00fcfe die Verf\u00fcgbarkeit","timeout_ms":10000,"speak_after_execution":false,"name":"check_availability","response_variables":{"message":"$.message","available_slots":"$.slots"},"speak_during_execution":true,"parameters":{"type":"object","properties":{"date":{"type":"string"},"call_id":{"type":"string"},"time":{"type":"string"}},"required":["call_id","date"]},"parameter_mapping":{"call_id":"{{call_id}}"}},{"headers":{"Content-Type":"application/json"},"parameter_type":"json","method":"POST","query_params":[],"description":"Parse German dates like n\u00e4chste Woche Montag, heute, morgen to actual dates. MUST be called before collect_appointment_data","type":"custom","url":"https://api.askproai.de/api/webhooks/retell/function","args_at_root":false,"timeout_ms":5000,"speak_after_execution":false,"name":"parse_date","response_variables":{"date":"$.date","display_date":"$.display_date","day_name":"$.day_name"},"speak_during_execution":false,"parameters":{"type":"object","properties":{"date_string":{"type":"string","description":"German date string: n\u00e4chste Woche Montag, heute, morgen, \u00fcbermorgen, Montag, 20.10.2025"}},"required":["date_string"]}}]}