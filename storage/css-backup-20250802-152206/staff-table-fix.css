/* Staff Table Display Fixes */

/* =================================================================
   STAFF TABLE SPECIFIC OPTIMIZATIONS
   ================================================================= */

/* Target staff tables by URL or resource class */
[x-data*="staff"] .fi-ta-table,
.fi-resource-staff .fi-ta-table,
[wire\:snapshot*="StaffResource"] .fi-ta-table {
    table-layout: auto !important;
}

/* Fix Split/Stack layout alignment issues */
[x-data*="staff"] .fi-ta-table td > div[class*="split"],
[x-data*="staff"] .fi-ta-table td > div[class*="stack"],
.fi-resource-staff .fi-ta-table td > div[class*="split"],
.fi-resource-staff .fi-ta-table td > div[class*="stack"],
[wire\:snapshot*="StaffResource"] .fi-ta-table td > div[class*="split"],
[wire\:snapshot*="StaffResource"] .fi-ta-table td > div[class*="stack"] {
    align-items: center !important;
    gap: 0.75rem !important;
}

/* Avatar column - fixed width */
[x-data*="staff"] .fi-ta-table td:has(img[class*="circular"]) img,
.fi-resource-staff .fi-ta-table td:has(img[class*="circular"]) img,
[wire\:snapshot*="StaffResource"] .fi-ta-table td:has(img[class*="circular"]) img {
    width: 40px !important;
    height: 40px !important;
    flex-shrink: 0 !important;
}

/* Name column - better spacing and alignment */
[x-data*="staff"] .fi-ta-col-name,
.fi-resource-staff .fi-ta-col-name,
[wire\:snapshot*="StaffResource"] .fi-ta-col-name {
    min-width: 200px !important;
    max-width: 250px !important;
}

/* All table cells - proper vertical alignment */
[x-data*="staff"] .fi-ta-table td,
.fi-resource-staff .fi-ta-table td,
[wire\:snapshot*="StaffResource"] .fi-ta-table td {
    vertical-align: middle !important;
}

/* Company column - medium width */
[x-data*="staff"] .fi-ta-col-company\\.name,
.fi-resource-staff .fi-ta-col-company\\.name,
[wire\:snapshot*="StaffResource"] .fi-ta-col-company\\.name {
    min-width: 150px !important;
    max-width: 200px !important;
}

/* Branch column - medium width */
[x-data*="staff"] .fi-ta-col-homeBranch\\.name,
.fi-resource-staff .fi-ta-col-homeBranch\\.name,
[wire\:snapshot*="StaffResource"] .fi-ta-col-homeBranch\\.name {
    min-width: 140px !important;
    max-width: 180px !important;
}

/* Count columns - narrow */
[x-data*="staff"] .fi-ta-col-branches_count,
[x-data*="staff"] .fi-ta-col-services_count,
[x-data*="staff"] .fi-ta-col-appointments_count,
[x-data*="staff"] .fi-ta-col-upcoming_appointments_count,
.fi-resource-staff .fi-ta-col-branches_count,
.fi-resource-staff .fi-ta-col-services_count,
.fi-resource-staff .fi-ta-col-appointments_count,
.fi-resource-staff .fi-ta-col-upcoming_appointments_count,
[wire\:snapshot*="StaffResource"] .fi-ta-col-branches_count,
[wire\:snapshot*="StaffResource"] .fi-ta-col-services_count,
[wire\:snapshot*="StaffResource"] .fi-ta-col-appointments_count,
[wire\:snapshot*="StaffResource"] .fi-ta-col-upcoming_appointments_count {
    width: 90px !important;
    text-align: center !important;
}

/* Status column - narrow */
[x-data*="staff"] .fi-ta-col-active,
.fi-resource-staff .fi-ta-col-active,
[wire\:snapshot*="StaffResource"] .fi-ta-col-active {
    width: 100px !important;
    text-align: center !important;
}

/* Phone column */
[x-data*="staff"] .fi-ta-col-phone,
.fi-resource-staff .fi-ta-col-phone,
[wire\:snapshot*="StaffResource"] .fi-ta-col-phone {
    width: 150px !important;
}

/* External calendar ID - hide by default on smaller screens */
@media (max-width: 1536px) {
    [x-data*="staff"] .fi-ta-col-external_calendar_id,
    .fi-resource-staff .fi-ta-col-external_calendar_id,
    [wire\:snapshot*="StaffResource"] .fi-ta-col-external_calendar_id {
        display: none !important;
    }
}

/* Created at column - medium width */
[x-data*="staff"] .fi-ta-col-created_at,
.fi-resource-staff .fi-ta-col-created_at,
[wire\:snapshot*="StaffResource"] .fi-ta-col-created_at {
    width: 160px !important;
}

/* Actions column - fixed width */
[x-data*="staff"] .fi-ta-col-actions,
.fi-resource-staff .fi-ta-col-actions,
[wire\:snapshot*="StaffResource"] .fi-ta-col-actions {
    width: 120px !important;
    text-align: right !important;
}

/* =================================================================
   RESPONSIVE ADJUSTMENTS FOR STAFF TABLE
   ================================================================= */

/* Large screens (1920px+) */
@media (min-width: 1920px) {
    [x-data*="staff"] .fi-ta-table,
    .fi-resource-staff .fi-ta-table,
    [wire\:snapshot*="StaffResource"] .fi-ta-table {
        font-size: 1rem !important;
    }
    
    [x-data*="staff"] .fi-ta-table th,
    [x-data*="staff"] .fi-ta-table td,
    .fi-resource-staff .fi-ta-table th,
    .fi-resource-staff .fi-ta-table td,
    [wire\:snapshot*="StaffResource"] .fi-ta-table th,
    [wire\:snapshot*="StaffResource"] .fi-ta-table td {
        padding: 1rem 1.25rem !important;
    }
}

/* Medium screens (1280px-1919px) */
@media (min-width: 1280px) and (max-width: 1919px) {
    /* Hide less important columns */
    [x-data*="staff"] .fi-ta-col-upcoming_appointments_count,
    .fi-resource-staff .fi-ta-col-upcoming_appointments_count,
    [wire\:snapshot*="StaffResource"] .fi-ta-col-upcoming_appointments_count {
        display: none !important;
    }
    
    /* Reduce padding */
    [x-data*="staff"] .fi-ta-table th,
    [x-data*="staff"] .fi-ta-table td,
    .fi-resource-staff .fi-ta-table th,
    .fi-resource-staff .fi-ta-table td,
    [wire\:snapshot*="StaffResource"] .fi-ta-table th,
    [wire\:snapshot*="StaffResource"] .fi-ta-table td {
        padding: 0.75rem 1rem !important;
    }
}

/* Small screens (1024px-1279px) */
@media (min-width: 1024px) and (max-width: 1279px) {
    /* Hide additional columns */
    [x-data*="staff"] .fi-ta-col-appointments_count,
    [x-data*="staff"] .fi-ta-col-created_at,
    .fi-resource-staff .fi-ta-col-appointments_count,
    .fi-resource-staff .fi-ta-col-created_at,
    [wire\:snapshot*="StaffResource"] .fi-ta-col-appointments_count,
    [wire\:snapshot*="StaffResource"] .fi-ta-col-created_at {
        display: none !important;
    }
    
    /* Smaller text and padding */
    [x-data*="staff"] .fi-ta-table,
    .fi-resource-staff .fi-ta-table,
    [wire\:snapshot*="StaffResource"] .fi-ta-table {
        font-size: 0.875rem !important;
    }
    
    [x-data*="staff"] .fi-ta-table th,
    [x-data*="staff"] .fi-ta-table td,
    .fi-resource-staff .fi-ta-table th,
    .fi-resource-staff .fi-ta-table td,
    [wire\:snapshot*="StaffResource"] .fi-ta-table th,
    [wire\:snapshot*="StaffResource"] .fi-ta-table td {
        padding: 0.5rem 0.75rem !important;
    }
    
    /* Smaller avatar */
    [x-data*="staff"] .fi-ta-table td:has(img[class*="circular"]) img,
    .fi-resource-staff .fi-ta-table td:has(img[class*="circular"]) img,
    [wire\:snapshot*="StaffResource"] .fi-ta-table td:has(img[class*="circular"]) img {
        width: 32px !important;
        height: 32px !important;
    }
}

/* Tablet (768px-1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
    /* Hide more columns */
    [x-data*="staff"] .fi-ta-col-branches_count,
    [x-data*="staff"] .fi-ta-col-services_count,
    .fi-resource-staff .fi-ta-col-branches_count,
    .fi-resource-staff .fi-ta-col-services_count,
    [wire\:snapshot*="StaffResource"] .fi-ta-col-branches_count,
    [wire\:snapshot*="StaffResource"] .fi-ta-col-services_count {
        display: none !important;
    }
    
    /* Compact layout */
    [x-data*="staff"] .fi-ta-table,
    .fi-resource-staff .fi-ta-table,
    [wire\:snapshot*="StaffResource"] .fi-ta-table {
        font-size: 0.813rem !important;
    }
    
    [x-data*="staff"] .fi-ta-table th,
    [x-data*="staff"] .fi-ta-table td,
    .fi-resource-staff .fi-ta-table th,
    .fi-resource-staff .fi-ta-table td,
    [wire\:snapshot*="StaffResource"] .fi-ta-table th,
    [wire\:snapshot*="StaffResource"] .fi-ta-table td {
        padding: 0.375rem 0.5rem !important;
    }
}

/* =================================================================
   BADGE AND STATUS STYLING
   ================================================================= */

/* Ensure badges don't expand too much */
[x-data*="staff"] .fi-badge,
.fi-resource-staff .fi-badge,
[wire\:snapshot*="StaffResource"] .fi-badge {
    max-width: 120px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
}

/* Count badges - compact display */
[x-data*="staff"] td[class*="_count"] .fi-badge,
.fi-resource-staff td[class*="_count"] .fi-badge,
[wire\:snapshot*="StaffResource"] td[class*="_count"] .fi-badge {
    padding: 0.125rem 0.5rem !important;
    font-size: 0.75rem !important;
    min-width: 40px !important;
    text-align: center !important;
}

/* =================================================================
   SPLIT LAYOUT FIXES
   ================================================================= */

/* Text description styling (email under name) */
[x-data*="staff"] .fi-ta-text-item-description,
.fi-resource-staff .fi-ta-text-item-description,
[wire\:snapshot*="StaffResource"] .fi-ta-text-item-description {
    font-size: 0.813rem !important;
    color: rgb(107, 114, 128) !important;
    margin-top: 0.125rem !important;
}

/* =================================================================
   HOVER EFFECTS AND INTERACTIONS
   ================================================================= */

/* Show full text on hover */
[x-data*="staff"] .fi-ta-table td:hover .fi-ta-text-item,
.fi-resource-staff .fi-ta-table td:hover .fi-ta-text-item,
[wire\:snapshot*="StaffResource"] .fi-ta-table td:hover .fi-ta-text-item {
    position: relative !important;
    z-index: 10 !important;
}

/* =================================================================
   ACTION DROPDOWN FIXES
   ================================================================= */

/* Ensure action dropdowns don't get cut off */
[x-data*="staff"] .fi-ta-col-actions,
.fi-resource-staff .fi-ta-col-actions,
[wire\:snapshot*="StaffResource"] .fi-ta-col-actions {
    position: relative !important;
    overflow: visible !important;
}

[x-data*="staff"] .fi-ta-col-actions .fi-dropdown-panel,
.fi-resource-staff .fi-ta-col-actions .fi-dropdown-panel,
[wire\:snapshot*="StaffResource"] .fi-ta-col-actions .fi-dropdown-panel {
    right: 0 !important;
    left: auto !important;
    z-index: 50 !important;
}

/* =================================================================
   DARK MODE ADJUSTMENTS
   ================================================================= */

.dark [x-data*="staff"] .fi-ta-text-item-description,
.dark .fi-resource-staff .fi-ta-text-item-description,
.dark [wire\:snapshot*="StaffResource"] .fi-ta-text-item-description {
    color: rgb(156, 163, 175) !important;
}

/* Better contrast for badges in dark mode */
.dark [x-data*="staff"] .fi-badge,
.dark .fi-resource-staff .fi-badge,
.dark [wire\:snapshot*="StaffResource"] .fi-badge {
    border: 1px solid rgba(255, 255, 255, 0.1);
}